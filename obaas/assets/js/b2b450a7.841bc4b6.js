"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[250],{3972:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>p,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"deploy/deployapp","title":"Deploy the Application","description":"Deploy the application","source":"@site/docs/deploy/deployapp.md","sourceDirName":"deploy","slug":"/deploy/deployapp","permalink":"/microservices-datadriven/obaas/docs/deploy/deployapp","draft":false,"unlisted":false,"editUrl":"https://github.com/oracle/microservices-datadriven/tree/main/docs-source/site/docs/deploy/deployapp.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Deploy the Application","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Build and Push the application","permalink":"/microservices-datadriven/obaas/docs/deploy/buildpushapp"},"next":{"title":"Platform Services","permalink":"/microservices-datadriven/obaas/docs/category/platform-services"}}');var o=i(4848),a=i(8453);const l={title:"Deploy the Application",sidebar_position:4},r=void 0,s={},c=[{value:"Deploy the application",id:"deploy-the-application",level:2},{value:"Modify the <code>Chart.yaml</code>",id:"modify-the-chartyaml",level:2},{value:"Modify the <code>values.yaml</code>",id:"modify-the-valuesyaml",level:2}];function d(e){const n={admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"deploy-the-application",children:"Deploy the application"}),"\n",(0,o.jsx)(n.admonition,{type:"important",children:(0,o.jsx)(n.p,{children:"This content is TBD"})}),"\n",(0,o.jsxs)(n.h2,{id:"modify-the-chartyaml",children:["Modify the ",(0,o.jsx)(n.code,{children:"Chart.yaml"})]}),"\n",(0,o.jsxs)(n.p,{children:["Modify the ",(0,o.jsx)(n.code,{children:"Chart.yaml"})," file to reflect your application."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v2\nname: <your application name>       # Replace with your application name\n"})}),"\n",(0,o.jsxs)(n.h2,{id:"modify-the-valuesyaml",children:["Modify the ",(0,o.jsx)(n.code,{children:"values.yaml"})]}),"\n",(0,o.jsxs)(n.p,{children:["Modify the ",(0,o.jsx)(n.code,{children:"values.yaml"})," file to match your application\u2019s requirements\u2014for example, set image.repository and pullPolicy, configure a service account, enable ingress, define resources and autoscaling, and specify volumes and volumeMounts etc."]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"obaas"})," section is unique for Oracle Backed for Microservices and AI. It has the following settings:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"# Oracle Backend for Microservices and AI Settings.\nobaas:\n  namespace: obaas-dev                      # Replace with your namespace \n  database:\n    enabled: true                           # If true variables with DB secret content will be created\n    credentialsSecret: account-db-secrets   # Replace with your secret name\n    walletSecret: obaas-adb-tns-admin-1     # Replace with your wallet secret name\n  otel:\n    enabled: true                           # Enable OpenTelemetry\n  # MicroProfile LRA\n  mp_lra:\n    enabled: true                          # Enable OTMM\n  # Spring Boot applications\n  springboot:\n    enabled: true                           # Enable Spring Boot specific variables\n  eureka:\n    enabled: true                           # Enable Eureka client\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["OBaaS supports both ",(0,o.jsx)(n.code,{children:"SPRING_BOOT"})," and ",(0,o.jsx)(n.code,{children:"HELIDON"}),". This is set via the ",(0,o.jsx)(n.code,{children:"obaas.framework"})," parameter."]}),"\n",(0,o.jsxs)(n.li,{children:["When ",(0,o.jsx)(n.code,{children:"otel.enabled"})," is true, the ",(0,o.jsx)(n.code,{children:"OTEL_EXPORTER_OTLP_ENDPOINT"})," environment variable is set to the appropriate value and injected into the deployment for application use. This is the URL of the OpenTelemetry (OTLP protocol) collector which can be used by your application to send observability data to the SigNoz platform."]}),"\n",(0,o.jsxs)(n.li,{children:["When ",(0,o.jsx)(n.code,{children:"mp_lra.enabled"})," is true, the following environment variables are set to the appropriate value and injected into the deployment for application use:","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"MP_LRA_COORDINATOR_URL"})," This is the URL for the ",(0,o.jsx)(n.em,{children:"transaction manager"})," which is required when using Eclipse Microprofile Long Running Actions in your application."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["When ",(0,o.jsx)(n.code,{children:"springboot.enabled"})," is true, the following environment variables are set to the appropriate value and injected into the deployment for application use:","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"SPRING_PROFILES_ACTIVE"})," This sets the Spring profiles that will be active in the application. The default value is ",(0,o.jsx)(n.code,{children:"default"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"SPRING_DATASOURCE_URL"})," This sets the data source URL for your application to use to connect to the database, for example ",(0,o.jsx)(n.code,{children:"jdbc:oracle:thin:@$(DB_SERVICE)?TNS_ADMIN=/oracle/tnsadmin"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"SPRING_DATASOURCE_USERNAME"})," Set to the value of the key ",(0,o.jsx)(n.code,{children:"username"})," in secret you may have created for your application."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"SPRING_DATASOURCE_PASSWORD"})," Set to the value of the key ",(0,o.jsx)(n.code,{children:"password"})," in secret you may have created for your application."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"DB_SERVICE"})," Set to the value of the key ",(0,o.jsx)(n.code,{children:"service"})," in secret you may have created for your application."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["When ",(0,o.jsx)(n.code,{children:"eureka.enabled"})," is true, the following environment variables are set to the appropriate value and injected into the deployment for the application and the application will register with Eureka.","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"EUREKA_INSTANCE_PREFER_IP_ADDRESS"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"EUREKA_CLIENT_REGISTER_WITH_EUREKA"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"EUREKA_CLIENT_FETCH_REGISTRY"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"EUREKA_CLIENT_SERVICE_URL_DEFAULTZONE"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"EUREKA_INSTANCE_HOSTNAME"})}),"\n"]}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>r});var t=i(6540);const o={},a=t.createContext(o);function l(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);