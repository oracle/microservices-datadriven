"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[490],{2222:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>i,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"setup/database","title":"Prepare and Install the OBaaS Database Helm chart","description":"Prepare and Install the OBaaS Database Helm chart","source":"@site/docs/setup/database.md","sourceDirName":"setup","slug":"/setup/database","permalink":"/microservices-datadriven/obaas/docs/setup/database","draft":false,"unlisted":false,"editUrl":"https://github.com/oracle/microservices-datadriven/tree/main/docs-source/site/docs/setup/database.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"title":"Prepare and Install the OBaaS Database Helm chart","sidebar_position":9},"sidebar":"tutorialSidebar","previous":{"title":"Prepare and Install the OBaaS Observability Helm Chart","permalink":"/microservices-datadriven/obaas/docs/setup/observability"},"next":{"title":"Prepare and Install the OBaaS Helm chart","permalink":"/microservices-datadriven/obaas/docs/setup/obaas"}}');var n=s(4848),r=s(8453);const o={title:"Prepare and Install the OBaaS Database Helm chart",sidebar_position:9},l=void 0,i={},d=[{value:"Prepare and Install the OBaaS Database Helm chart",id:"prepare-and-install-the-obaas-database-helm-chart",level:2}];function c(e){const a={code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.h2,{id:"prepare-and-install-the-obaas-database-helm-chart",children:"Prepare and Install the OBaaS Database Helm chart"}),"\n",(0,n.jsxs)(a.p,{children:["For this step, you will need the ",(0,n.jsx)(a.strong,{children:"obaas-db"})," directory in which you will see the following files:"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"cd obaas-db/\nls\nChart.yaml scripts templates values.yaml\n"})}),"\n",(0,n.jsxs)(a.p,{children:["You must edit the ",(0,n.jsx)(a.strong,{children:"values.yaml"})," file as follows:"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["If you are using a private repository, you must update each ",(0,n.jsx)(a.strong,{children:"image"})," entry to point to your private repository instead of the public repositories."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["You must update the values in the ",(0,n.jsx)(a.strong,{children:"database.oci_config"})," section as follows:"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["The ",(0,n.jsx)(a.strong,{children:"oke"})," setting must be ",(0,n.jsx)(a.strong,{children:"false"}),". Setting this to true is not supported in 2.0.0-M3."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Supply your ",(0,n.jsx)(a.strong,{children:"tenancy"}),", ",(0,n.jsx)(a.strong,{children:"user"})," ocid, ",(0,n.jsx)(a.strong,{children:"fingerprint"})," and ",(0,n.jsx)(a.strong,{children:"region"}),". These must match the details you provided when you created the OCI configuration secret earlier. This information can be found in the OCI configuration file."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["(Optional) If you want to install any components in this chart into their own separate namespace, you can override the global namespace by setting a value in the ",(0,n.jsx)(a.strong,{children:"namespace"})," property inside the section for that component."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"Important note"}),": Please pause to double check all of the values are correct. If there are any errors here, the database provisioning will fail."]}),"\n",(0,n.jsx)(a.p,{children:"Install the Helm chart using the following command:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:'helm --debug install obaas-db --set global.obaasName="obaas-dev" --set global.targetNamespace="obaas-dev" ./\n'})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-text",children:"NAME: obaas-db\nLAST DEPLOYED: Sun Aug 17 13:09:20 2025\nNAMESPACE: default\nSTATUS: deployed\nREVISION: 1\nTEST SUITE: None\n"})}),"\n",(0,n.jsxs)(a.p,{children:["When the installation has completed, you can use ",(0,n.jsx)(a.code,{children:"helm ls"})," command to view the installed charts:"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-text",children:"NAME               \tNAMESPACE\tREVISION\tUPDATED                             \tSTATUS  \tCHART                    \tAPP VERSION\nobaas-db           \tdefault  \t1       \t2025-09-12 13:51:23.751199 -0500 CDT\tdeployed\tOBaaS-db-0.1.0           \t2.0.0-M3   \nobaas-observability\tdefault  \t1       \t2025-09-12 13:45:43.113298 -0500 CDT\tdeployed\tOBaaS-observability-0.1.0\t2.0.0-M3   \nobaas-prereqs      \tdefault  \t1       \t2025-09-12 13:37:16.026781 -0500 CDT\tdeployed\tOBaaS-Prerequisites-0.0.1\t2.0.0-M3  \n"})}),"\n",(0,n.jsxs)(a.p,{children:["If you overrode the namespace for this component, you will see a new namespace called ",(0,n.jsx)(a.strong,{children:"oracle-database-operator-system"})," (for example) and the following pods. Otherwise the pods will be in the ",(0,n.jsx)(a.strong,{children:"obaas-dev"})," namespace (or whatever name you chose)."]}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:"DB Operator pods",src:s(9989).A+"",width:"938",height:"107"})}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"Note"}),": If you are installing multiple OBaaS instances in your cluster, each one MUST have a different release name, ",(0,n.jsx)(a.code,{children:"obaasName"})," and ",(0,n.jsx)(a.code,{children:"targetNamespace"}),".  For example:"]}),"\n",(0,n.jsx)(a.p,{children:"For obaas-dev:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:'helm install obaas-db --set global.obaasName="obaas-dev" --set global.targetNamespace="obaas-dev" ./\n'})}),"\n",(0,n.jsx)(a.p,{children:"For obaas-prod:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:'helm install obaas-prod-db --set global.obaasName="obaas-prod" --set global.targetNamespace="obaas-prod" ./\n'})})]})}function h(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},8453:(e,a,s)=>{s.d(a,{R:()=>o,x:()=>l});var t=s(6540);const n={},r=t.createContext(n);function o(e){const a=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),t.createElement(r.Provider,{value:a},e.children)}},9989:(e,a,s)=>{s.d(a,{A:()=>t});const t=s.p+"assets/images/image6-9e63982a07cb3b89d7157a499d40ef74.png"}}]);