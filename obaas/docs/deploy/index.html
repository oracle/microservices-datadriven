<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-deploy/deploy" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Deploying an Application to OBaaS | Oracle Backend for Microservices and AI</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://oracle.github.io/microservices-datadriven/obaas/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://oracle.github.io/microservices-datadriven/obaas/img/logo.png"><meta data-rh="true" property="og:url" content="https://oracle.github.io/microservices-datadriven/obaas/docs/deploy/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Deploying an Application to OBaaS | Oracle Backend for Microservices and AI"><meta data-rh="true" name="description" content="This guide walks through deploying an application to Oracle Backend for Microservices and AI (OBaaS). It covers each step from creating container repositories through exposing services via the API gateway."><meta data-rh="true" property="og:description" content="This guide walks through deploying an application to Oracle Backend for Microservices and AI (OBaaS). It covers each step from creating container repositories through exposing services via the API gateway."><link data-rh="true" rel="icon" href="/microservices-datadriven/obaas/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://oracle.github.io/microservices-datadriven/obaas/docs/deploy/"><link data-rh="true" rel="alternate" href="https://oracle.github.io/microservices-datadriven/obaas/docs/deploy/" hreflang="en"><link data-rh="true" rel="alternate" href="https://oracle.github.io/microservices-datadriven/obaas/docs/deploy/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Deploy Apps","item":"https://oracle.github.io/microservices-datadriven/obaas/docs/deploy/overview"},{"@type":"ListItem","position":2,"name":"Deploying an Application to OBaaS","item":"https://oracle.github.io/microservices-datadriven/obaas/docs/deploy/"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2EVY167E00"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-2EVY167E00",{anonymize_ip:!0})</script><link rel="stylesheet" href="/microservices-datadriven/obaas/assets/css/styles.6cefc2ab.css">
<script src="/microservices-datadriven/obaas/assets/js/runtime~main.9356106f.js" defer="defer"></script>
<script src="/microservices-datadriven/obaas/assets/js/main.a3868c3b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/microservices-datadriven/obaas/img/logo_home.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/microservices-datadriven/obaas/"><div class="navbar__logo"><img src="/microservices-datadriven/obaas/img/logo_home.png" alt="Oracle Backend for Microservices and AI Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/microservices-datadriven/obaas/img/logo_home.png" alt="Oracle Backend for Microservices and AI Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Oracle Backend for Microservices and AI</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/microservices-datadriven/obaas/docs/intro">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/microservices-datadriven/obaas/docs/deploy/">Next</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/oracle/microservices-datadriven" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/microservices-datadriven/obaas/docs/intro"><span title="Oracle Backend for Microservices and AI" class="linkLabel_WmDU">Oracle Backend for Microservices and AI</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/microservices-datadriven/obaas/docs/setup/"><span title="Setup" class="categoryLinkLabel_W154">Setup</span></a><button aria-label="Expand sidebar category &#x27;Setup&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/microservices-datadriven/obaas/docs/deploy/overview"><span title="Deploy Apps" class="categoryLinkLabel_W154">Deploy Apps</span></a><button aria-label="Collapse sidebar category &#x27;Deploy Apps&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/microservices-datadriven/obaas/docs/deploy/"><span title="Deploying an Application to OBaaS" class="linkLabel_WmDU">Deploying an Application to OBaaS</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/microservices-datadriven/obaas/docs/platform/"><span title="Platform Services" class="categoryLinkLabel_W154">Platform Services</span></a><button aria-label="Expand sidebar category &#x27;Platform Services&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/microservices-datadriven/obaas/docs/observability/"><span title="Observability" class="categoryLinkLabel_W154">Observability</span></a><button aria-label="Expand sidebar category &#x27;Observability&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/microservices-datadriven/obaas/docs/rel_notes/"><span title="Release Notes" class="linkLabel_WmDU">Release Notes</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/microservices-datadriven/obaas/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/microservices-datadriven/obaas/docs/deploy/overview"><span>Deploy Apps</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Deploying an Application to OBaaS</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Deploying an Application to OBaaS</h1></header>
<p>This guide walks through deploying an application to Oracle Backend for Microservices and AI (OBaaS). It covers each step from creating container repositories through exposing services via the API gateway.</p>
<p>The steps below are generic — replace placeholder values like <code>my-app</code>, <code>my-service</code>, and <code>mydb</code> with values appropriate to your application.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no">​</a></h2>
<p>Before you begin, ensure the following tools are installed and configured:</p>
<table><thead><tr><th>Tool</th><th>Purpose</th><th>Verify</th></tr></thead><tbody><tr><td><strong>Java</strong></td><td>Build application JARs</td><td><code>java -version</code></td></tr><tr><td><strong>Maven</strong></td><td>Build and package</td><td><code>mvn --version</code></td></tr><tr><td><strong>Docker</strong></td><td>Build and push container images</td><td><code>docker ps</code></td></tr><tr><td><strong>kubectl</strong></td><td>Interact with Kubernetes cluster</td><td><code>kubectl cluster-info</code></td></tr><tr><td><strong>Helm</strong></td><td>Deploy applications to Kubernetes</td><td><code>helm version</code></td></tr><tr><td><strong>OCI CLI</strong></td><td>Manage OCI resources (if using OCIR)</td><td><code>oci --version</code></td></tr></tbody></table>
<p>Additional requirements:</p>
<ul>
<li class=""><code>JAVA_HOME</code> must be set and point to your Java installation</li>
<li class="">Docker daemon must be running</li>
<li class="">kubectl must be connected to the target cluster (<code>kubectl config current-context</code>)</li>
<li class="">OBaaS platform must already be installed in your target namespace</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If you are using OCI Container Registry (OCIR), configure the OCI CLI first:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">oci setup config</span><br></span></code></pre></div></div><p>The registry URL is derived from your OCI region and namespace: <code>&lt;region&gt;.ocir.io/&lt;namespace&gt;</code>.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-1-create-container-repositories">Step 1: Create Container Repositories<a href="#step-1-create-container-repositories" class="hash-link" aria-label="Direct link to Step 1: Create Container Repositories" title="Direct link to Step 1: Create Container Repositories" translate="no">​</a></h2>
<p>Each microservice needs a container repository to store its image. Create one repository per service in your container registry of choice — OCI Container Registry (OCIR), Amazon ECR, Azure Container Registry, Google Artifact Registry, Docker Hub, GitHub Container Registry, or any Docker V2-compatible registry. Use your provider&#x27;s CLI or console to create the repositories, then authenticate Docker with <code>docker login</code>. The registry URL format varies by provider; consult your provider&#x27;s documentation for the correct path. The rest of this guide works the same regardless of which registry you use.</p>
<p>The example below shows how to create repositories in OCI Container Registry. Adapt to your registry as needed.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Set your variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COMPARTMENT=&quot;my-compartment&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PREFIX=&quot;my-app&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Get your compartment OCID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COMPARTMENT_OCID=$(oci iam compartment list --all \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --compartment-id-in-subtree true \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --query &quot;data[?name==&#x27;${COMPARTMENT}&#x27;].id | [0]&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --raw-output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create a repository for each service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for SERVICE in service1 service2 service3; do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  oci artifacts container repository create \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --compartment-id &quot;$COMPARTMENT_OCID&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --display-name &quot;${PREFIX}/${SERVICE}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --is-public true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">done</span><br></span></code></pre></div></div>
<p>After creating the repositories, authenticate Docker to your registry:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker login &lt;registry-host&gt;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-2-build-and-push-container-images">Step 2: Build and Push Container Images<a href="#step-2-build-and-push-container-images" class="hash-link" aria-label="Direct link to Step 2: Build and Push Container Images" title="Direct link to Step 2: Build and Push Container Images" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="configure-jkube-in-your-pomxml">Configure JKube in Your pom.xml<a href="#configure-jkube-in-your-pomxml" class="hash-link" aria-label="Direct link to Configure JKube in Your pom.xml" title="Direct link to Configure JKube in Your pom.xml" translate="no">​</a></h3>
<p>The <code>obaas-sample-app</code> Helm chart expects a standard container image. Use <a href="https://eclipse.dev/jkube/" target="_blank" rel="noopener noreferrer" class="">Eclipse JKube</a> to build and push images with Maven.</p>
<p>Add the JKube plugin to each service&#x27;s <code>pom.xml</code>:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.eclipse.jkube</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">kubernetes-maven-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.18.2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">images</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">image</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${image.registry}/${project.artifactId}:${project.version}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">build</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">from</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">ghcr.io/oracle/openjdk-image-obaas:21</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">from</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">assembly</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">mode</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">dir</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">mode</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">targetDir</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">/deployments</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">targetDir</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">assembly</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">cmd</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">java -jar /deployments/${project.artifactId}-${project.version}.jar</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">cmd</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">build</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">image</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">images</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<p>Replace the <code>&lt;name&gt;</code> value with your registry path. The <code>${image.registry}</code> property can be passed on the command line with <code>-Dimage.registry=...</code>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="build-dependencies">Build Dependencies<a href="#build-dependencies" class="hash-link" aria-label="Direct link to Build Dependencies" title="Direct link to Build Dependencies" translate="no">​</a></h3>
<p>If your project has shared modules (parent POM, common libraries, build tools), install them to your local Maven repository first:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Install parent POM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mvn clean install -N</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install shared modules (adjust module names to your project)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mvn clean install -pl common</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="build-and-push">Build and Push<a href="#build-and-push" class="hash-link" aria-label="Direct link to Build and Push" title="Direct link to Build and Push" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Set your registry path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">REGISTRY=&quot;&lt;region&gt;.ocir.io/&lt;namespace&gt;/my-app&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Build the JAR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mvn clean package -DskipTests -pl my-service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Build the container image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mvn org.eclipse.jkube:kubernetes-maven-plugin:build \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -pl my-service \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -Dimage.registry=$REGISTRY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Push to registry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mvn org.eclipse.jkube:kubernetes-maven-plugin:push \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -pl my-service \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -Dimage.registry=$REGISTRY</span><br></span></code></pre></div></div>
<p>Or combine build and push in a single command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mvn clean package k8s:build k8s:push \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -DskipTests \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -pl my-service \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -Dimage.registry=$REGISTRY</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>To build and push all services at once, pass a comma-separated list to <code>-pl</code>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mvn clean package k8s:build k8s:push \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -DskipTests \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -pl service1,service2,service3 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -Dimage.registry=$REGISTRY</span><br></span></code></pre></div></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-3-create-database-secrets">Step 3: Create Database Secrets<a href="#step-3-create-database-secrets" class="hash-link" aria-label="Direct link to Step 3: Create Database Secrets" title="Direct link to Step 3: Create Database Secrets" translate="no">​</a></h2>
<p>If your application connects to an Oracle database, you need to create Kubernetes secrets containing the database credentials. The Helm chart uses these secrets to configure datasource environment variables and to run a database initialization job.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="secret-naming-convention">Secret Naming Convention<a href="#secret-naming-convention" class="hash-link" aria-label="Direct link to Secret Naming Convention" title="Direct link to Secret Naming Convention" translate="no">​</a></h3>
<p>The Helm chart expects secrets following this naming pattern:</p>
<table><thead><tr><th>Secret</th><th>Purpose</th><th>Keys</th></tr></thead><tbody><tr><td><code>{dbname}-db-priv-authn</code></td><td>Privileged credentials (for creating users, Liquibase)</td><td><code>username</code>, <code>password</code>, <code>service</code></td></tr><tr><td><code>{dbname}-{service}-db-authn</code></td><td>Application credentials (per service)</td><td><code>username</code>, <code>password</code>, <code>service</code></td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="create-the-privileged-secret">Create the Privileged Secret<a href="#create-the-privileged-secret" class="hash-link" aria-label="Direct link to Create the Privileged Secret" title="Direct link to Create the Privileged Secret" translate="no">​</a></h3>
<p>The privileged secret must exist before deploying. It is typically created during OBaaS platform setup. If it does not exist, create it manually:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n &lt;namespace&gt; create secret generic &lt;dbname&gt;-db-priv-authn \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --from-literal=username=ADMIN \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --from-literal=password=&#x27;&lt;admin-password&gt;&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --from-literal=service=&lt;dbname&gt;_tp</span><br></span></code></pre></div></div>
<p>The <code>service</code> value is the TNS service name for your database (for example, <code>mydb_tp</code>).</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="create-application-secrets">Create Application Secrets<a href="#create-application-secrets" class="hash-link" aria-label="Direct link to Create Application Secrets" title="Direct link to Create Application Secrets" translate="no">​</a></h3>
<p>Create a secret for each distinct database user your application needs. Services that share a schema can share a secret.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n &lt;namespace&gt; create secret generic &lt;dbname&gt;-&lt;service&gt;-db-authn \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --from-literal=username=&lt;SERVICE_USERNAME&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --from-literal=password=&#x27;&lt;service-password&gt;&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --from-literal=service=&lt;dbname&gt;_tp</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Oracle Password Requirements</div><div class="admonitionContent_BuS1"><p>Oracle database passwords must meet the following rules:</p><ul>
<li class="">12–30 characters</li>
<li class="">At least two uppercase letters, two lowercase letters, two digits, and two special characters (<code>#</code> or <code>_</code>)</li>
<li class="">Cannot start with a digit or special character</li>
<li class="">Cannot contain the username</li>
</ul><p>Oracle usernames are stored as uppercase by default.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="verify-secrets">Verify Secrets<a href="#verify-secrets" class="hash-link" aria-label="Direct link to Verify Secrets" title="Direct link to Verify Secrets" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># List all database secrets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get secrets -n &lt;namespace&gt; | grep db-authn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># View a secret&#x27;s keys (not values)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl describe secret &lt;dbname&gt;-&lt;service&gt;-db-authn -n &lt;namespace&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Decode a specific value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get secret &lt;dbname&gt;-&lt;service&gt;-db-authn -n &lt;namespace&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -o jsonpath=&#x27;{.data.password}&#x27; | base64 -d</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-4-deploy-with-helm">Step 4: Deploy with Helm<a href="#step-4-deploy-with-helm" class="hash-link" aria-label="Direct link to Step 4: Deploy with Helm" title="Direct link to Step 4: Deploy with Helm" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="add-the-helm-repository">Add the Helm Repository<a href="#add-the-helm-repository" class="hash-link" aria-label="Direct link to Add the Helm Repository" title="Direct link to Add the Helm Repository" translate="no">​</a></h3>
<p>The <code>obaas-sample-app</code> Helm chart is published in the OBaaS Helm repository:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm repo add obaas https://oracle.github.io/microservices-datadriven/helm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm repo update</span><br></span></code></pre></div></div>
<p>Verify the chart is available:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm search repo obaas/obaas-sample-app</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="identify-the-obaas-release-name">Identify the OBaaS Release Name<a href="#identify-the-obaas-release-name" class="hash-link" aria-label="Direct link to Identify the OBaaS Release Name" title="Direct link to Identify the OBaaS Release Name" translate="no">​</a></h3>
<p>The Helm chart needs to know the OBaaS platform release name to derive service endpoints (Eureka, OTEL collector, APISIX, etc.). Find it with:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm list -n &lt;namespace&gt;</span><br></span></code></pre></div></div>
<p>Look for the release that is <strong>not</strong> an application deployment (i.e., not using the <code>obaas-sample-app</code> chart). This is your OBaaS platform release name.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="create-a-valuesyaml">Create a values.yaml<a href="#create-a-valuesyaml" class="hash-link" aria-label="Direct link to Create a values.yaml" title="Direct link to Create a values.yaml" translate="no">​</a></h3>
<p>Create a <code>values.yaml</code> for each service you want to deploy. Here is a minimal example for a Spring Boot service:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">fullnameOverride</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-service&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">repository</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;region&gt;.ocir.io/&lt;namespace&gt;/my-app/my-service&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tag</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0.0.1-SNAPSHOT&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">obaas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">releaseName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;obaas-release-name&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">framework</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;SPRING_BOOT&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">database</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;dbname&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">eureka</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">otel</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">otmm</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><br></span></code></pre></div></div>
<p>For a Helidon service, set <code>framework: &quot;HELIDON&quot;</code> and add the required Helidon values:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">obaas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">framework</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;HELIDON&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">helidon</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">datasource</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;myDatasource&quot;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic"># Must match application.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">otel</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">serviceName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-service&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="helm-values-reference">Helm Values Reference<a href="#helm-values-reference" class="hash-link" aria-label="Direct link to Helm Values Reference" title="Direct link to Helm Values Reference" translate="no">​</a></h3>
<table><thead><tr><th>Value</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>image.repository</code></td><td>Yes</td><td>Full image path (without tag)</td></tr><tr><td><code>image.tag</code></td><td>Yes</td><td>Image tag</td></tr><tr><td><code>obaas.releaseName</code></td><td>Yes</td><td>OBaaS platform Helm release name</td></tr><tr><td><code>obaas.framework</code></td><td>Yes</td><td><code>SPRING_BOOT</code> or <code>HELIDON</code></td></tr><tr><td><code>database.name</code></td><td>If using DB</td><td>Database name (derives secret names and wallet)</td></tr><tr><td><code>database.authN.secretName</code></td><td>No</td><td>Override derived secret name <code>{dbname}-{release}-db-authn</code></td></tr><tr><td><code>database.aq.enabled</code></td><td>No</td><td>Grant Advanced Queuing (AQ/JMS) permissions (default: <code>false</code>)</td></tr><tr><td><code>eureka.enabled</code></td><td>No</td><td>Register with Eureka service discovery (default: <code>true</code>)</td></tr><tr><td><code>otel.enabled</code></td><td>No</td><td>Enable OpenTelemetry integration (default: <code>true</code>)</td></tr><tr><td><code>otmm.enabled</code></td><td>No</td><td>Enable MicroTx LRA distributed transactions (default: <code>false</code>)</td></tr><tr><td><code>service.port</code></td><td>No</td><td>Container and service port (default: <code>8080</code>)</td></tr><tr><td><code>replicaCount</code></td><td>No</td><td>Number of pod replicas (default: <code>1</code>)</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="deploy-a-service">Deploy a Service<a href="#deploy-a-service" class="hash-link" aria-label="Direct link to Deploy a Service" title="Direct link to Deploy a Service" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm upgrade --install my-service obaas/obaas-sample-app \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -f values.yaml \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --namespace &lt;namespace&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --set image.repository=&lt;registry&gt;/my-service \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --set image.tag=0.0.1-SNAPSHOT \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --set obaas.releaseName=&lt;obaas-release&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --set database.name=&lt;dbname&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --wait --timeout 5m</span><br></span></code></pre></div></div>
<p>Values passed via <code>--set</code> override those in <code>values.yaml</code>. This is useful for CI/CD pipelines where the registry and tag vary per build.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-gets-deployed">What Gets Deployed<a href="#what-gets-deployed" class="hash-link" aria-label="Direct link to What Gets Deployed" title="Direct link to What Gets Deployed" translate="no">​</a></h3>
<p>For each <code>helm install</code>, the chart creates:</p>
<ol>
<li class=""><strong>Deployment</strong> — your application pod with framework-aware environment variables (datasource, Eureka, OTEL, LRA)</li>
<li class=""><strong>Service</strong> — a ClusterIP service on port 8080 (default)</li>
<li class=""><strong>DB Init Job</strong> — a Kubernetes Job that runs SQLcl to create the database user if it doesn&#x27;t already exist. It uses the privileged secret to connect and creates a user matching the application secret credentials. The job retries up to 60 times (10-second intervals) and auto-cleans after 5 minutes.</li>
<li class=""><strong>DB Init ConfigMap</strong> — the SQL script used by the init job. If <code>database.aq.enabled</code> is <code>true</code>, AQ permissions (<code>DBMS_AQ</code>, <code>DBMS_AQADM</code>, etc.) are included.</li>
</ol>
<p>The database wallet (TLS certificates for Oracle Autonomous Database) is automatically mounted at <code>/oracle/tnsadmin</code> from the OBaaS platform&#x27;s wallet secret.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="verify-the-deployment">Verify the Deployment<a href="#verify-the-deployment" class="hash-link" aria-label="Direct link to Verify the Deployment" title="Direct link to Verify the Deployment" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check pod status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods -n &lt;namespace&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get svc -n &lt;namespace&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># View pod logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl logs -n &lt;namespace&gt; -l app.kubernetes.io/name=my-service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check the db-init job</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get jobs -n &lt;namespace&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Test connectivity via port-forward</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl port-forward -n &lt;namespace&gt; svc/my-service 8080:8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl http://localhost:8080/actuator/health</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="upgrade-and-uninstall">Upgrade and Uninstall<a href="#upgrade-and-uninstall" class="hash-link" aria-label="Direct link to Upgrade and Uninstall" title="Direct link to Upgrade and Uninstall" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Upgrade (after pushing a new image)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm upgrade my-service obaas/obaas-sample-app \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -f values.yaml \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --namespace &lt;namespace&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --set image.tag=0.0.2-SNAPSHOT \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --wait --timeout 5m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Uninstall</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm uninstall my-service -n &lt;namespace&gt;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-5-create-api-gateway-routes">Step 5: Create API Gateway Routes<a href="#step-5-create-api-gateway-routes" class="hash-link" aria-label="Direct link to Step 5: Create API Gateway Routes" title="Direct link to Step 5: Create API Gateway Routes" translate="no">​</a></h2>
<p>The OBaaS platform uses <a href="https://apisix.apache.org/" target="_blank" rel="noopener noreferrer" class="">Apache APISIX</a> as its API gateway. To expose your services externally, create routes that map URI patterns to Eureka service names.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="get-the-apisix-admin-key">Get the APISIX Admin Key<a href="#get-the-apisix-admin-key" class="hash-link" aria-label="Direct link to Get the APISIX Admin Key" title="Direct link to Get the APISIX Admin Key" translate="no">​</a></h3>
<p>The admin API key is stored in the APISIX ConfigMap:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Replace &lt;obaas-release&gt; with your release name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get configmap &lt;obaas-release&gt;-apisix -n &lt;namespace&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -o jsonpath=&#x27;{.data.config\.yaml}&#x27; | grep -A2 &#x27;&quot;admin&quot;&#x27;</span><br></span></code></pre></div></div>
<p>Look for the <code>key:</code> value under the admin user.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="port-forward-to-the-admin-api">Port-Forward to the Admin API<a href="#port-forward-to-the-admin-api" class="hash-link" aria-label="Direct link to Port-Forward to the Admin API" title="Direct link to Port-Forward to the Admin API" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl port-forward -n &lt;namespace&gt; svc/&lt;obaas-release&gt;-apisix-admin 9180:9180 &amp;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="create-a-route">Create a Route<a href="#create-a-route" class="hash-link" aria-label="Direct link to Create a Route" title="Direct link to Create a Route" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ADMIN_KEY=&quot;&lt;your-admin-key&gt;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl http://localhost:9180/apisix/admin/routes/1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;X-API-KEY: $ADMIN_KEY&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -X PUT \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d &#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;name&quot;: &quot;my-service&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;desc&quot;: &quot;My Service&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;uri&quot;: &quot;/api/v1/my-service*&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;methods&quot;: [&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;, &quot;HEAD&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;upstream&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;service_name&quot;: &quot;MY-SERVICE&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;type&quot;: &quot;roundrobin&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;discovery_type&quot;: &quot;eureka&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;plugins&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;opentelemetry&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;sampler&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;name&quot;: &quot;always_on&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;prometheus&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;prefer_name&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }&#x27;</span><br></span></code></pre></div></div>
<p>Key fields:</p>
<table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>uri</code></td><td>The URL pattern to match. Use a wildcard suffix (e.g., <code>/api/v1/my-service*</code>).</td></tr><tr><td><code>upstream.service_name</code></td><td>The Eureka-registered service name (uppercase by default for Spring Boot).</td></tr><tr><td><code>upstream.discovery_type</code></td><td>Set to <code>eureka</code> so APISIX resolves service instances from the Eureka registry.</td></tr><tr><td><code>plugins.opentelemetry</code></td><td>Enables distributed tracing through the gateway.</td></tr><tr><td><code>plugins.prometheus</code></td><td>Enables Prometheus metrics collection for the route.</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="verify-the-route">Verify the Route<a href="#verify-the-route" class="hash-link" aria-label="Direct link to Verify the Route" title="Direct link to Verify the Route" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Test through the gateway</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl http://&lt;apisix-gateway&gt;/api/v1/my-service/health</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># List all routes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl http://localhost:9180/apisix/admin/routes \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;X-API-KEY: $ADMIN_KEY&quot; | jq &#x27;.list[].value.name&#x27;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="stop-port-forward">Stop Port-Forward<a href="#stop-port-forward" class="hash-link" aria-label="Direct link to Stop Port-Forward" title="Direct link to Stop Port-Forward" translate="no">​</a></h3>
<p>When done configuring routes, stop the port-forward:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kill %1</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">​</a></h2>
<p>The full deployment flow:</p>
<table><thead><tr><th>Step</th><th>What</th><th>How</th></tr></thead><tbody><tr><td>1</td><td>Create container repositories</td><td>OCI CLI or registry UI</td></tr><tr><td>2</td><td>Build and push images</td><td>Maven + JKube (<code>k8s:build</code> + <code>k8s:push</code>)</td></tr><tr><td>3</td><td>Create database secrets</td><td><code>kubectl create secret</code></td></tr><tr><td>4</td><td>Deploy with Helm</td><td><code>helm upgrade --install</code> with <code>obaas-sample-app</code> chart</td></tr><tr><td>5</td><td>Create API gateway routes</td><td>APISIX Admin API via <code>curl</code></td></tr></tbody></table>
<p>After all steps are complete, your application is accessible through the APISIX gateway at the URI patterns you configured.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/microservices-datadriven/obaas/docs/deploy/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Deployment Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/microservices-datadriven/obaas/docs/platform/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Platform Services Overview</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#step-1-create-container-repositories" class="table-of-contents__link toc-highlight">Step 1: Create Container Repositories</a></li><li><a href="#step-2-build-and-push-container-images" class="table-of-contents__link toc-highlight">Step 2: Build and Push Container Images</a><ul><li><a href="#configure-jkube-in-your-pomxml" class="table-of-contents__link toc-highlight">Configure JKube in Your pom.xml</a></li><li><a href="#build-dependencies" class="table-of-contents__link toc-highlight">Build Dependencies</a></li><li><a href="#build-and-push" class="table-of-contents__link toc-highlight">Build and Push</a></li></ul></li><li><a href="#step-3-create-database-secrets" class="table-of-contents__link toc-highlight">Step 3: Create Database Secrets</a><ul><li><a href="#secret-naming-convention" class="table-of-contents__link toc-highlight">Secret Naming Convention</a></li><li><a href="#create-the-privileged-secret" class="table-of-contents__link toc-highlight">Create the Privileged Secret</a></li><li><a href="#create-application-secrets" class="table-of-contents__link toc-highlight">Create Application Secrets</a></li><li><a href="#verify-secrets" class="table-of-contents__link toc-highlight">Verify Secrets</a></li></ul></li><li><a href="#step-4-deploy-with-helm" class="table-of-contents__link toc-highlight">Step 4: Deploy with Helm</a><ul><li><a href="#add-the-helm-repository" class="table-of-contents__link toc-highlight">Add the Helm Repository</a></li><li><a href="#identify-the-obaas-release-name" class="table-of-contents__link toc-highlight">Identify the OBaaS Release Name</a></li><li><a href="#create-a-valuesyaml" class="table-of-contents__link toc-highlight">Create a values.yaml</a></li><li><a href="#helm-values-reference" class="table-of-contents__link toc-highlight">Helm Values Reference</a></li><li><a href="#deploy-a-service" class="table-of-contents__link toc-highlight">Deploy a Service</a></li><li><a href="#what-gets-deployed" class="table-of-contents__link toc-highlight">What Gets Deployed</a></li><li><a href="#verify-the-deployment" class="table-of-contents__link toc-highlight">Verify the Deployment</a></li><li><a href="#upgrade-and-uninstall" class="table-of-contents__link toc-highlight">Upgrade and Uninstall</a></li></ul></li><li><a href="#step-5-create-api-gateway-routes" class="table-of-contents__link toc-highlight">Step 5: Create API Gateway Routes</a><ul><li><a href="#get-the-apisix-admin-key" class="table-of-contents__link toc-highlight">Get the APISIX Admin Key</a></li><li><a href="#port-forward-to-the-admin-api" class="table-of-contents__link toc-highlight">Port-Forward to the Admin API</a></li><li><a href="#create-a-route" class="table-of-contents__link toc-highlight">Create a Route</a></li><li><a href="#verify-the-route" class="table-of-contents__link toc-highlight">Verify the Route</a></li><li><a href="#stop-port-forward" class="table-of-contents__link toc-highlight">Stop Port-Forward</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/microservices-datadriven/obaas/docs/intro">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/microservices-datadriven/obaas/docs/setup">Setup</a></li><li class="footer__item"><a class="footer__link-item" href="/microservices-datadriven/obaas/docs/deploy/overview">Deploy</a></li><li class="footer__item"><a class="footer__link-item" href="/microservices-datadriven/obaas/docs/observability">Observability</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/oracle" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blogs.oracle.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Oracle Blogs<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://livelabs.oracle.com/pls/apex/r/dbpm/livelabs/home" target="_blank" rel="noopener noreferrer" class="footer__link-item">Oracle LiveLabs<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/oracle/microservices-datadriven" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026, Oracle and/or its affiliates. Built with ❤️ using Docusaurus.</div></div></div></footer></div>
</body>
</html>