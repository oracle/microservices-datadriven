<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.138.0">
    <meta name="generator" content="Relearn 7.1.1+ab4197f3113afa9a7d17bed69dbef6c0e75a4921">
    <meta name="description" content="Next, you will create the “Test Runner” microservice which you will use to simulate the ATM and Back Office. This service will send messages to the queues that you just created.
Create a new Java Project for the transfer service.
In the Explorer of VS Code open Java Project and click the plus sign to add a Java Project to your workspace.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Create the Test Runner Microservice :: CloudBank AI">
    <meta name="twitter:description" content="Next, you will create the “Test Runner” microservice which you will use to simulate the ATM and Back Office. This service will send messages to the queues that you just created.
Create a new Java Project for the transfer service.
In the Explorer of VS Code open Java Project and click the plus sign to add a Java Project to your workspace.">
    <meta property="og:url" content="https://oracle.github.io/microservices-datadriven/cloudbank/check/create-testrunner/index.html">
    <meta property="og:site_name" content="CloudBank AI">
    <meta property="og:title" content="Create the Test Runner Microservice :: CloudBank AI">
    <meta property="og:description" content="Next, you will create the “Test Runner” microservice which you will use to simulate the ATM and Back Office. This service will send messages to the queues that you just created.
Create a new Java Project for the transfer service.
In the Explorer of VS Code open Java Project and click the plus sign to add a Java Project to your workspace.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Check Processing">
    <meta itemprop="name" content="Create the Test Runner Microservice :: CloudBank AI">
    <meta itemprop="description" content="Next, you will create the “Test Runner” microservice which you will use to simulate the ATM and Back Office. This service will send messages to the queues that you just created.
Create a new Java Project for the transfer service.
In the Explorer of VS Code open Java Project and click the plus sign to add a Java Project to your workspace.">
    <meta itemprop="wordCount" content="1573">
    <title>Create the Test Runner Microservice :: CloudBank AI</title>
    <link href="/microservices-datadriven/cloudbank/images/favicon.png?1732117029" rel="icon" type="image/png">
    <link href="/microservices-datadriven/cloudbank/css/fontawesome-all.min.css?1732117029" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/microservices-datadriven/cloudbank/css/fontawesome-all.min.css?1732117029" rel="stylesheet"></noscript>
    <link href="/microservices-datadriven/cloudbank/css/nucleus.css?1732117029" rel="stylesheet">
    <link href="/microservices-datadriven/cloudbank/css/auto-complete.css?1732117029" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/microservices-datadriven/cloudbank/css/auto-complete.css?1732117029" rel="stylesheet"></noscript>
    <link href="/microservices-datadriven/cloudbank/css/perfect-scrollbar.min.css?1732117029" rel="stylesheet">
    <link href="/microservices-datadriven/cloudbank/css/fonts.css?1732117029" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/microservices-datadriven/cloudbank/css/fonts.css?1732117029" rel="stylesheet"></noscript>
    <link href="/microservices-datadriven/cloudbank/css/theme.css?1732117029" rel="stylesheet">
    <link href="/microservices-datadriven/cloudbank/css/theme-zen-light.css?1732117029" rel="stylesheet" id="R-variant-style">
    <link href="/microservices-datadriven/cloudbank/css/chroma-relearn-light.css?1732117029" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/microservices-datadriven/cloudbank/css/print.css?1732117029" rel="stylesheet" media="print">
    <script src="/microservices-datadriven/cloudbank/js/variant.js?1732117029"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/oracle.github.io\/microservices-datadriven\/cloudbank';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      // variant stuff
      window.variants && variants.init( [ 'zen-light' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-7HWQVTJ803"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-7HWQVTJ803');
        }
      </script>
  </head>
  <body class="mobile-support html" data-url="/microservices-datadriven/cloudbank/check/create-testrunner/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper"> 
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/microservices-datadriven/cloudbank/index.html"><span itemprop="name">CloudBank AI</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/microservices-datadriven/cloudbank/check/index.html"><span itemprop="name">Check Processing</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Create the Test Runner Microservice</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/microservices-datadriven/cloudbank/check/create-queues/index.html" title="Create Queues in the Database (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/microservices-datadriven/cloudbank/check/check-processing/index.html" title="Create the Check Processing Microservice (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable check" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="create-the-test-runner-microservice">Create the Test Runner Microservice</h1>

<p>Next, you will create the &ldquo;Test Runner&rdquo; microservice which you will use to simulate the ATM and Back Office.  This service will send messages to the queues that you just created.</p>
<ol>
<li>
<p>Create a new Java Project for the <code>transfer</code> service.</p>
<p>In the Explorer of VS Code open <code>Java Project</code> and click the <strong>plus</strong> sign to add a Java Project to your workspace.</p>
<p><a href="#R-image-010ca2a12605ea312035dfbf89566421" class="lightbox-link"><img alt="Add Java Project" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../images/add_java_project.png" style=" height: auto; width: auto;" title=" "></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-010ca2a12605ea312035dfbf89566421"><img alt="Add Java Project" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../images/add_java_project.png" title=" "></a></p>
<p>Select Spring Boot Project.</p>
<p><a href="#R-image-bd2c0fe9a5c1160476bc952cc9d5cfae" class="lightbox-link"><img alt="Spring Boot Project" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../images/spring-boot-prj.png" style=" height: auto; width: auto;" title=" "></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bd2c0fe9a5c1160476bc952cc9d5cfae"><img alt="Spring Boot Project" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../images/spring-boot-prj.png" title=" "></a></p>
<p>Select Maven Project.</p>
<p><a href="#R-image-6b6f4eb25df9ad23b89f7077e91224ae" class="lightbox-link"><img alt="Maven Project" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../images/maven-project.png" style=" height: auto; width: auto;" title=" "></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6b6f4eb25df9ad23b89f7077e91224ae"><img alt="Maven Project" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../images/maven-project.png" title=" "></a></p>
<p>Specify <code>3.3.4</code> as the Spring Boot version.</p>
<p><a href="#R-image-d6d9ca0bb0454d868aeea96ffd458514" class="lightbox-link"><img alt="Spring Boot Version" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../images/spring-boot-version.png" style=" height: auto; width: auto;" title=" "></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d6d9ca0bb0454d868aeea96ffd458514"><img alt="Spring Boot Version" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../images/spring-boot-version.png" title=" "></a></p>
<p>Use <code>com.example</code> as the Group Id.</p>
<p><a href="#R-image-e8346450218a04d841eedc761e04dd16" class="lightbox-link"><img alt="Group Id" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../images/group-id.png" style=" height: auto; width: auto;" title=" "></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e8346450218a04d841eedc761e04dd16"><img alt="Group Id" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../images/group-id.png" title=" "></a></p>
<p>Enter <code>testrunner</code> as the Artifact Id.</p>
<p><a href="#R-image-4a2b9c7966bd438ca95e385a93257532" class="lightbox-link"><img alt="Artifact Id" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../images/artifact-id-testrunner.png" style=" height: auto; width: auto;" title=" "></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4a2b9c7966bd438ca95e385a93257532"><img alt="Artifact Id" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../images/artifact-id-testrunner.png" title=" "></a></p>
<p>Use <code>JAR</code> as the Packaging Type.</p>
<p><a href="#R-image-ecfe2221385b21b68c88fc9bd8ea6bb0" class="lightbox-link"><img alt="Packaging Type" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../images/packaging-type.png" style=" height: auto; width: auto;" title=" "></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ecfe2221385b21b68c88fc9bd8ea6bb0"><img alt="Packaging Type" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../images/packaging-type.png" title=" "></a></p>
<p>Select Java version <code>21</code>.</p>
<p><a href="#R-image-0d20f999c8b27c37d02d7002b21e9ca1" class="lightbox-link"><img alt="Java Version" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../images/java-version.png" style=" height: auto; width: auto;" title=" "></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0d20f999c8b27c37d02d7002b21e9ca1"><img alt="Java Version" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../images/java-version.png" title=" "></a></p>
<p>Search for <code>Spring Web</code> and press <strong>Enter</strong></p>
<p><a href="#R-image-97aac13de238eec2d91a008cd66d4af3" class="lightbox-link"><img alt="Search for Spring Web" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../images/search-spring-web.png" style=" height: auto; width: auto;" title=" "></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-97aac13de238eec2d91a008cd66d4af3"><img alt="Search for Spring Web" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../images/search-spring-web.png" title=" "></a></p>
<p>Press <strong>Enter</strong> to continue and create the Java Project</p>
<p><a href="#R-image-2c6227bce9413ebecfc00b10dff99238" class="lightbox-link"><img alt="Create Project" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../images/create-project.png" style=" height: auto; width: auto;" title=" "></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2c6227bce9413ebecfc00b10dff99238"><img alt="Create Project" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../images/create-project.png" title=" "></a></p>
<p>Select the <code>root</code> location for your project e.g. side by side with the <code>account</code> project.</p>
<p><a href="#R-image-2860cf92f8b43e4a7e3a8eb05c3fe6e5" class="lightbox-link"><img alt="Project Location" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../images/project-location.png" style=" height: auto; width: auto;" title=" "></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2860cf92f8b43e4a7e3a8eb05c3fe6e5"><img alt="Project Location" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../images/project-location.png" title=" "></a></p>
<p>When the project opens click <strong>Add to Workspace</strong></p>
<p><a href="#R-image-b8e8cd8c1f5e75e1f14e308ac5d9bb78" class="lightbox-link"><img alt="Add to Workspace" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../images/add-to-workspace.png" style=" height: auto; width: auto;" title=" "></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b8e8cd8c1f5e75e1f14e308ac5d9bb78"><img alt="Add to Workspace" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../images/add-to-workspace.png" title=" "></a></p>
</li>
<li>
<p>Modify the <code>pom.xml</code> file</p>
<p>Open the <code>pom.xml</code> file in the <code>testrunner</code> project. This service will use the &ldquo;Web&rdquo; Spring Boot Starter which will allow it to expose REST endpoints and make REST calls to other services. It also uses the two Oracle Spring Boot Starters for UCP and Wallet to access the database: Add the following to the pom.xml:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>  <span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;groupId&gt;</span>com.oracle.database.spring<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;artifactId&gt;</span>oracle-spring-boot-starter-aqjms<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;version&gt;</span>23.4.0<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;groupId&gt;</span>com.oracle.database.spring<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;artifactId&gt;</span>oracle-spring-boot-starter-wallet<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;type&gt;</span>pom<span style="color:#f92672">&lt;/type&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;version&gt;</span>23.4.0<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;groupId&gt;</span>org.projectlombok<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;artifactId&gt;</span>lombok<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/dependency&gt;</span></span></span></code></pre></div>
</li>
<li>
<p>Create the Spring Boot application YAML file</p>
<p>In the <code>testrunner</code> project, rename the file called <code>application.properties</code> to <code>application.yaml</code> located in the <code>src/main/resources</code>. This will be the Spring Boot application configuration file:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">spring</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">application</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">testrunner</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">datasource</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">url</span>: <span style="color:#ae81ff">${spring.datasource.url}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">username</span>: <span style="color:#ae81ff">${spring.datasource.username}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">password</span>: <span style="color:#ae81ff">${spring.datasource.password}</span></span></span></code></pre></div>
<p>This is the Spring Boot application YAML file, which contains the configuration information for this service.  In this case, you only need to provide the application name and the connection details for the database hosting the queues.</p>
</li>
<li>
<p>Create the main Spring Application class</p>
<p>In the <code>testrunner</code> directory, open the Java file called <code>TestrunnerApplication.java</code> and add this content. This is a standard Spring Boot main class, notice the <code>@SpringBootApplication</code> annotation on the class.  It also has the <code>@EnableJms</code> annotation which tells Spring Boot to enable JMS functionality in this application. The <code>main</code> method is a normal Spring Boot main method:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.testrunner;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> jakarta.jms.ConnectionFactory;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.boot.SpringApplication;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.context.annotation.Bean;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.jms.annotation.EnableJms;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.jms.core.JmsTemplate;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.jms.support.converter.MappingJackson2MessageConverter;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.jms.support.converter.MessageConverter;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.jms.support.converter.MessageType;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@SpringBootApplication</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@EnableJms</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestrunnerApplication</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        SpringApplication.<span style="color:#a6e22e">run</span>(TestrunnerApplication.<span style="color:#a6e22e">class</span>, args);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Serialize message content to json using TextMessage</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Bean</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> MessageConverter <span style="color:#a6e22e">jacksonJmsMessageConverter</span>() {
</span></span><span style="display:flex;"><span>        MappingJackson2MessageConverter converter <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MappingJackson2MessageConverter();
</span></span><span style="display:flex;"><span>        converter.<span style="color:#a6e22e">setTargetType</span>(MessageType.<span style="color:#a6e22e">TEXT</span>);
</span></span><span style="display:flex;"><span>        converter.<span style="color:#a6e22e">setTypeIdPropertyName</span>(<span style="color:#e6db74">&#34;_type&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> converter;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Bean</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> JmsTemplate <span style="color:#a6e22e">jmsTemplate</span>(ConnectionFactory connectionFactory) {
</span></span><span style="display:flex;"><span>        JmsTemplate jmsTemplate <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> JmsTemplate();
</span></span><span style="display:flex;"><span>        jmsTemplate.<span style="color:#a6e22e">setConnectionFactory</span>(connectionFactory);
</span></span><span style="display:flex;"><span>        jmsTemplate.<span style="color:#a6e22e">setMessageConverter</span>(jacksonJmsMessageConverter());
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> jmsTemplate;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>In addition to the standard parts of a Spring Boot application class, you will add two beans that will be needed in this service.  First, you need a <code>MessageConverter</code> bean so that you can convert a Java object (POJO) into JSON format, and vice versa. This bean will be used to serialize and deserialize the objects you need to write onto the queues.</p>
<p>The second bean you need is a <code>JmsTemplate</code>. This is a standard Spring JMS bean that is used to access JMS functionality.  You will use this bean to enqueue messages. Notice that this bean is configured to use the <code>MessageConverter</code> bean and that the JMS <code>ConnectionFactory</code> is injected. The Oracle Spring Boot Starter for AQ/JMS will create the JMS <code>ConnectionFactory</code> for you.</p>
<p><strong>Note</strong>: The Oracle Spring Boot Starter for AQ/JMS will also inject a JDBC <code>Connection</code> bean which shares the same database transaction with the JMS <code>ConnectionFactory</code>. This is not needed in this lab.  The shared transaction enables you to write methods which can perform both JMS and JPA operations in an atomic transaction, which can be very helpful in some use cases and can dramatically reduce the amount of code needed to handle situations like duplicate message delivery or lost messages.</p>
</li>
<li>
<p>Create the model classes</p>
<p>Create a new directory called <code>src/main/java/com/example/testrunner/model</code> and in this directory create two Java files. First, <code>CheckDeposit.java</code> with this content. This class will be used to simulate the ATM sending the &ldquo;deposit&rdquo; notification:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.testrunner.model;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> lombok.AllArgsConstructor;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> lombok.Data;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> lombok.NoArgsConstructor;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@Data</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@AllArgsConstructor</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@NoArgsConstructor</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CheckDeposit</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">long</span> accountId;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">long</span> amount;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Next, <code>Clearance.java</code> with this content. This class will be used to simulate the Back Office sending the &ldquo;clearance&rdquo; notification:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.testrunner.model;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> lombok.AllArgsConstructor;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> lombok.Data;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> lombok.NoArgsConstructor;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@Data</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@AllArgsConstructor</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@NoArgsConstructor</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Clearance</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">long</span> journalId;
</span></span><span style="display:flex;"><span>}   </span></span></code></pre></div>
</li>
<li>
<p>Create the controller</p>
<p>Create a new directory called <code>src/main/java/com/example/testrunner/controller</code> and in this directory create a new Java file called <code>TestRunnerController.java</code> with the following content. This class will have the <code>RestController</code> annotation so that it can expose REST APIs that you can call to trigger the simulation of the ATM and Back Office notifications. It will need the <code>JmsTemplate</code> to access JMS functionality, this can be injected with the <code>AutoWired</code> annotation. Create two methods, one to send each notification:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.testrunner.controller;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.beans.factory.annotation.Autowired;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.http.HttpStatus;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.http.ResponseEntity;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.jms.core.JmsTemplate;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.web.bind.annotation.PostMapping;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.web.bind.annotation.RequestBody;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.web.bind.annotation.RequestMapping;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.web.bind.annotation.RestController;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.example.testrunner.model.CheckDeposit;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.example.testrunner.model.Clearance;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@RestController</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@RequestMapping</span>(<span style="color:#e6db74">&#34;/api/v1/testrunner&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestRunnerController</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Autowired</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> JmsTemplate jmsTemplate;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@PostMapping</span>(<span style="color:#e6db74">&#34;/deposit&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> ResponseEntity<span style="color:#f92672">&lt;</span>CheckDeposit<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">depositCheck</span>(<span style="color:#a6e22e">@RequestBody</span> CheckDeposit deposit) {       
</span></span><span style="display:flex;"><span>        jmsTemplate.<span style="color:#a6e22e">convertAndSend</span>(<span style="color:#e6db74">&#34;deposits&#34;</span>, deposit);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> ResponseEntity<span style="color:#f92672">&lt;</span>CheckDeposit<span style="color:#f92672">&gt;</span>(deposit, HttpStatus.<span style="color:#a6e22e">CREATED</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@PostMapping</span>(<span style="color:#e6db74">&#34;/clear&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> ResponseEntity<span style="color:#f92672">&lt;</span>Clearance<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">clearCheck</span>(<span style="color:#a6e22e">@RequestBody</span> Clearance clearance) {
</span></span><span style="display:flex;"><span>        jmsTemplate.<span style="color:#a6e22e">convertAndSend</span>(<span style="color:#e6db74">&#34;clearances&#34;</span>, clearance);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> ResponseEntity<span style="color:#f92672">&lt;</span>Clearance<span style="color:#f92672">&gt;</span>(clearance, HttpStatus.<span style="color:#a6e22e">CREATED</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
</li>
<li>
<p>Build a JAR file for deployment</p>
<p>Run the following command to build the JAR file.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ mvn clean package -DskipTests</span></span></code></pre></div>
<p>The service is now ready to deploy to the backend.</p>
</li>
<li>
<p>Prepare the backend for deployment</p>
<p>The Oracle Backend for Microservices and AI admin service is not exposed outside the Kubernetes cluster by default. Oracle recommends using a <strong>kubectl</strong> port forwarding tunnel to establish a secure connection to the admin service.</p>
<p>Start a tunnel using this command in a new terminal window:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n obaas-admin port-forward svc/obaas-admin <span style="color:#ae81ff">8080</span></span></span></code></pre></div>
<p>Get the password for the <code>obaas-admin</code> user. The <code>obaas-admin</code> user is the equivalent of the admin or root user in the Oracle Backend for Microservices and AI backend.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get secret -n azn-server  oractl-passwords -o jsonpath<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;{.data.admin}&#39;</span> | base64 -d</span></span></code></pre></div>
<p>Start the Oracle Backend for Microservices and AI CLI (<em>oractl</em>) in a new terminal window using this command:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ oractl
</span></span><span style="display:flex;"><span> _   _           __    _    ___
</span></span><span style="display:flex;"><span>/ <span style="color:#ae81ff">\ </span>|_<span style="color:#f92672">)</span>  _.  _. <span style="color:#f92672">(</span>_    /  |   |
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">\_</span>/ |_<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>_| <span style="color:#f92672">(</span>_| __<span style="color:#f92672">)</span>   <span style="color:#ae81ff">\_</span> |_ _|_
</span></span><span style="display:flex;"><span><span style="color:#f92672">========================================================================================</span>
</span></span><span style="display:flex;"><span>  Application Name: Oracle Backend Platform :: Command Line Interface
</span></span><span style="display:flex;"><span>  Application Version: <span style="color:#f92672">(</span>1.3.0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  :: Spring Boot <span style="color:#f92672">(</span>v3.3.3<span style="color:#f92672">)</span> ::
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Ask <span style="color:#66d9ef">for</span> help:
</span></span><span style="display:flex;"><span>  - Slack: https://oracledevs.slack.com/archives/C03ALDSV272
</span></span><span style="display:flex;"><span>  - email: obaas_ww@oracle.com
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>oractl:&gt;</span></span></code></pre></div>
<p>Connect to the Oracle Backend for Microservices and AI admin service using the <code>connect</code> command. Enter <code>obaas-admin</code> and the username and use the password you collected earlier.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>oractl&gt; connect
</span></span><span style="display:flex;"><span>username: obaas-admin
</span></span><span style="display:flex;"><span>password: **************
</span></span><span style="display:flex;"><span>Credentials successfully authenticated! obaas-admin -&gt; welcome to OBaaS CLI.
</span></span><span style="display:flex;"><span>oractl:&gt;</span></span></code></pre></div>
</li>
<li>
<p>Create a binding for the Test Runner service</p>
<p>Create a binding so the Test Runner service can access the Oracle Autonomous Database as the <code>account</code> user. Run this command to create the binding, and type in the password for the <code>account</code> user when prompted. The password is <code>Welcome1234##</code>:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>oractl:&gt; bind --app-name application --service-name testrunner --username account</span></span></code></pre></div>
</li>
<li>
<p>Deploy the Test Runner service</p>
<p>You will now deploy your Test Runner service to the Oracle Backend for Microservices and AI using the CLI. Run this command to deploy your service, make sure you provide the correct path to your JAR file. <strong>Note</strong> that this command may take 1-3 minutes to complete:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>oractl:&gt; deploy --app-name application --service-name testrunner --artifact-path /path/to/testrunner-0.0.1-SNAPSHOT.jar --image-version 0.0.1 --java-version ghcr.io/oracle/graalvm-native-image-obaas:21
</span></span><span style="display:flex;"><span>uploading: testrunner/target/testrunner-0.0.1-SNAPSHOT.jarbuilding and pushing image...
</span></span><span style="display:flex;"><span>creating deployment and service... successfully deployed
</span></span><span style="display:flex;"><span>oractl:&gt;</span></span></code></pre></div>
<p>You can close the port forwarding session for the CLI now (just type a Ctrl+C in its console window).</p>
</li>
<li>
<p>Check that the <code>testrunner</code> service is running</p>
<p>Verify that the testrunner application is up and running by running this command:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl logs -n application svc/testrunner</span></span></code></pre></div>
<p>The output should be similar to this, look for <code>Started TestrunnerApplication</code></p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>2023-06-02 15:18:39.620  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1806 ms
</span></span><span style="display:flex;"><span>2023-06-02 15:18:40.915  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;
</span></span><span style="display:flex;"><span>2023-06-02 15:18:40.938  INFO 1 --- [           main] c.e.testrunner.TestrunnerApplication     : Started TestrunnerApplication in 4.174 seconds (JVM running for 5.237)</span></span></code></pre></div>
</li>
<li>
<p>Test the endpoints</p>
<p>The Test Runner service is not exposed outside your Kubernetes cluster, so you must create a port-forwarding tunnel to access it. Create a tunnel using this command:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n application port-forward svc/testrunner 8084:8080</span></span></code></pre></div>
<p>Call the deposit endpoint to send a deposit notification using this command:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl -i -X POST -H <span style="color:#e6db74">&#39;Content-Type: application/json&#39;</span> -d <span style="color:#e6db74">&#39;{&#34;accountId&#34;: 2, &#34;amount&#34;: 200}&#39;</span> http://localhost:8084/api/v1/testrunner/deposit
</span></span><span style="display:flex;"><span>HTTP/1.1 <span style="color:#ae81ff">201</span>
</span></span><span style="display:flex;"><span>Date: Wed, <span style="color:#ae81ff">31</span> May <span style="color:#ae81ff">2023</span> 15:11:55 GMT
</span></span><span style="display:flex;"><span>Content-Type: application/json
</span></span><span style="display:flex;"><span>Transfer-Encoding: chunked
</span></span><span style="display:flex;"><span>Connection: keep-alive
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span><span style="color:#e6db74">&#34;accountId&#34;</span>:2,<span style="color:#e6db74">&#34;amount&#34;</span>:200<span style="color:#f92672">}</span></span></span></code></pre></div>
<p>Call the clear endpoint to send a clearance notification using this command. Note that you can use any <code>journalId</code> since there is nothing receiving and processing these messages yet:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl -i -X POST -H <span style="color:#e6db74">&#39;Content-Type: application/json&#39;</span> -d <span style="color:#e6db74">&#39;{&#34;journalId&#34;: 4}&#39;</span> http://localhost:8084/api/v1/testrunner/clear
</span></span><span style="display:flex;"><span>HTTP/1.1 <span style="color:#ae81ff">201</span>
</span></span><span style="display:flex;"><span>Date: Wed, <span style="color:#ae81ff">31</span> May <span style="color:#ae81ff">2023</span> 15:12:54 GMT
</span></span><span style="display:flex;"><span>Content-Type: application/json
</span></span><span style="display:flex;"><span>Transfer-Encoding: chunked
</span></span><span style="display:flex;"><span>Connection: keep-alive
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span><span style="color:#e6db74">&#34;journalId&#34;</span>:4<span style="color:#f92672">}</span></span></span></code></pre></div>
</li>
<li>
<p>Verify the expected messages are on the queues</p>
<p>Connect to the database as the <code>account</code> (password <code>Welcome12343##</code>) and issue this SQL statement to check the payloads of the messages on the deposits queue:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SQL</span><span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> qt.user_data.text_vc <span style="color:#66d9ef">from</span> deposits_qt qt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>USER_DATA.TEXT_VC
</span></span><span style="display:flex;"><span>_______________________________
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">{</span><span style="color:#e6db74">&#34;accountId&#34;</span>:<span style="color:#ae81ff">2</span>,<span style="color:#e6db74">&#34;amount&#34;</span>:<span style="color:#ae81ff">200</span><span style="color:#960050;background-color:#1e0010">}</span></span></span></code></pre></div>
<p>Issue this SQL statement to check the payloads of the messages on the clearances queue:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SQL</span><span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> qt.user_data.text_vc <span style="color:#66d9ef">from</span> clearances_qt qt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>USER_DATA.TEXT_VC
</span></span><span style="display:flex;"><span>____________________
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">{</span><span style="color:#e6db74">&#34;journalId&#34;</span>:<span style="color:#ae81ff">4</span><span style="color:#960050;background-color:#1e0010">}</span></span></span></code></pre></div>
<p>That completes the Test Runner service. Next, you will build the Check Processing service which will receive these messages and process them.</p>
</li>
</ol>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
<img src="https://oracle.github.io/microservices-datadriven/cloudbank//cloudbank-logo.png" height="100px">
        </div>
        <script>
          window.index_js_url="/microservices-datadriven/cloudbank/searchindex.en.js?1732117029";
        </script>
        <search><form action="/microservices-datadriven/cloudbank/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
        <script>
          var contentLangs=['en'];
        </script>
        <script src="/microservices-datadriven/cloudbank/js/auto-complete.js?1732117029" defer></script>
        <script src="/microservices-datadriven/cloudbank/js/lunr/lunr.min.js?1732117029" defer></script>
        <script src="/microservices-datadriven/cloudbank/js/lunr/lunr.stemmer.support.min.js?1732117029" defer></script>
        <script src="/microservices-datadriven/cloudbank/js/lunr/lunr.multi.min.js?1732117029" defer></script>
        <script src="/microservices-datadriven/cloudbank/js/lunr/lunr.en.min.js?1732117029" defer></script>
        <script src="/microservices-datadriven/cloudbank/js/search.js?1732117029" defer></script>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <ul>
          <li><a class="padding" href="/microservices-datadriven/cloudbank/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
        </ul>
        <hr class="padding">
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div id="R-shortcutmenu-home" class="R-sidebarmenu">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-id="/microservices-datadriven/cloudbank/provision/index.html"><a class="padding" href="/microservices-datadriven/cloudbank/provision/index.html">Provision an Instance</a><ul id="R-subsections-d6947c2d1078796b2bfd976ebc0e0264" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/microservices-datadriven/cloudbank/devenv/index.html"><a class="padding" href="/microservices-datadriven/cloudbank/devenv/index.html">Developer Environment</a><ul id="R-subsections-559c2972a719279af6301d7032063e64" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/microservices-datadriven/cloudbank/account/index.html"><a class="padding" href="/microservices-datadriven/cloudbank/account/index.html">Account Microservice</a><ul id="R-subsections-af4a17527840af40a6cda3fc650af51b" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-id="/microservices-datadriven/cloudbank/check/index.html"><a class="padding" href="/microservices-datadriven/cloudbank/check/index.html">Check Processing</a><ul id="R-subsections-159f69b312555d5f0055ca241e6721e2" class="collapsible-menu">
            <li class="" data-nav-id="/microservices-datadriven/cloudbank/check/intro/index.html"><a class="padding" href="/microservices-datadriven/cloudbank/check/intro/index.html">Introduction</a></li>
            <li class="" data-nav-id="/microservices-datadriven/cloudbank/check/learn/index.html"><a class="padding" href="/microservices-datadriven/cloudbank/check/learn/index.html">Learn about the scenario</a></li>
            <li class="" data-nav-id="/microservices-datadriven/cloudbank/check/update-account/index.html"><a class="padding" href="/microservices-datadriven/cloudbank/check/update-account/index.html">Add Journal to the Account service</a></li>
            <li class="" data-nav-id="/microservices-datadriven/cloudbank/check/create-queues/index.html"><a class="padding" href="/microservices-datadriven/cloudbank/check/create-queues/index.html">Create Queues in the Database</a></li>
            <li class="active " data-nav-id="/microservices-datadriven/cloudbank/check/create-testrunner/index.html"><a class="padding" href="/microservices-datadriven/cloudbank/check/create-testrunner/index.html">Create the Test Runner Microservice</a></li>
            <li class="" data-nav-id="/microservices-datadriven/cloudbank/check/check-processing/index.html"><a class="padding" href="/microservices-datadriven/cloudbank/check/check-processing/index.html">Create the Check Processing Microservice</a></li>
            <li class="" data-nav-id="/microservices-datadriven/cloudbank/check/test/index.html"><a class="padding" href="/microservices-datadriven/cloudbank/check/test/index.html">Test the end-to-end flow</a></li></ul></li>
            <li class="" data-nav-id="/microservices-datadriven/cloudbank/saga/index.html"><a class="padding" href="/microservices-datadriven/cloudbank/saga/index.html">Manage Sagas</a><ul id="R-subsections-dfd968a77748ad1f1a28d6a9118be66e" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/microservices-datadriven/cloudbank/springai/index.html"><a class="padding" href="/microservices-datadriven/cloudbank/springai/index.html">CloudBank AI Assistant</a><ul id="R-subsections-868fb0154339332ae87e7c98e3fa9bee" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/microservices-datadriven/cloudbank/deploy-cli/index.html"><a class="padding" href="/microservices-datadriven/cloudbank/deploy-cli/index.html">Deploy with the CLI</a><ul id="R-subsections-b839a8f6f0f5efd1be94b7f9da9e78d1" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/microservices-datadriven/cloudbank/deploy-ide/index.html"><a class="padding" href="/microservices-datadriven/cloudbank/deploy-ide/index.html">Deploy with an IDE</a><ul id="R-subsections-fd584c0da8f22ebe818df94300151866" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/microservices-datadriven/cloudbank/backend/index.html"><a class="padding" href="/microservices-datadriven/cloudbank/backend/index.html">Explore the Backend</a><ul id="R-subsections-f948b454f68385a53d2483b3c80424ae" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/microservices-datadriven/cloudbank/cleanup/index.html"><a class="padding" href="/microservices-datadriven/cloudbank/cleanup/index.html">Cleanup</a><ul id="R-subsections-6d9c3a2633de07dcbf4491d943578384" class="collapsible-menu"></ul></li>
          </ul>
        </div>
        <div id="R-shortcutmenu-shortcuts" class="R-sidebarmenu">
          <div class="nav-title padding">More</div>
          <ul class="space collapsible-menu">
            <li class="" data-nav-id="https://github.com/oracle/microservices-datadriven"><a class="padding" href="https://github.com/oracle/microservices-datadriven" target="_blank"><i class='fa-fw fab fa-github'></i> GitHub repo</a></li>
            <li class="" data-nav-id="https://bit.ly/oraclespringboot"><a class="padding" href="https://bit.ly/oraclespringboot" target="_blank"><i class='fa-fw fas fa-bookmark'></i> Oracle Backend for Spring Boot and Microservices</a></li>
            <li class="" data-nav-id="https://github.com/oracle/spring-cloud-oracle"><a class="padding" href="https://github.com/oracle/spring-cloud-oracle" target="_blank"><i class='fa-fw fas fa-bookmark'></i> Spring Cloud Oracle</a></li>
            <li class="" data-nav-id="/microservices-datadriven/cloudbank/more/credits/"><a class="padding" href="/microservices-datadriven/cloudbank/more/credits/"><i class='fa-fw fas fa-bullhorn'></i> Credits</a></li>
          </ul>
        </div>
        <div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"></div>
        <div id="R-menu-footer">
          <hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter">
          <div id="R-prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks">
            <ul>
              <li id="R-select-language-container" class="footerLangSwitch">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-language"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-language">Language</label>
                    <select id="R-select-language" onchange="location = this.querySelector( this.value ).dataset.url;">
                      <option id="R-select-language-en" value="#R-select-language-en" data-url="/microservices-datadriven/cloudbank/check/create-testrunner/index.html" lang="en-us" selected></option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
              <li id="R-select-variant-container" class="footerVariantSwitch">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-paint-brush"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-variant">Theme</label>
                    <select id="R-select-variant" onchange="window.variants && variants.changeVariant( this.value );">
                      <option id="R-select-variant-zen-light" value="zen-light" selected>Zen Light</option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
                <script>window.variants && variants.markSelectedVariant();</script>
              </li>
              <li class="footerVisitedLinks">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-history"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <button onclick="clearHistory();">Clear History</button>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
            </ul>
          </div>
          <div id="R-footer" class="footerFooter showFooter">
	    <p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://www.oracle.com/">Oracle</a></p>
		<p>Copyright &copy; 2022, 2024, <br>Oracle and/or its affiliates</p>
          </div>
        </div>
      </div>
    </aside>
    <script src="/microservices-datadriven/cloudbank/js/clipboard.min.js?1732117029" defer></script>
    <script src="/microservices-datadriven/cloudbank/js/perfect-scrollbar.min.js?1732117029" defer></script>
    <script src="/microservices-datadriven/cloudbank/js/theme.js?1732117029" defer></script>
  </body>
</html>
