<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.123.6">
    <meta name="generator" content="Relearn 6.1.1+tip">
    <meta name="description" content="Prepare the data source configuration for deployment
Update the data source configuration in your src/main/resources/application.yaml as shown in the example below. This will cause the service to read the correct database details that will be injected into its pod by the Oracle Backend for Spring Boot and Microservices.
datasource: url: ${spring.datasource.url} username: ${spring.datasource.username} password: ${spring.datasource.password} Add the client and configuration for the Spring Eureka Service Registry
When you deploy the application to the backend, you want it to register with the Eureka Service Registry so that it can be discovered by other services including the APISIX API Gateway, so that we can easily expose it outside the cluster.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Deploy Account Service :: CloudBank AI">
    <meta name="twitter:description" content="Prepare the data source configuration for deployment
Update the data source configuration in your src/main/resources/application.yaml as shown in the example below. This will cause the service to read the correct database details that will be injected into its pod by the Oracle Backend for Spring Boot and Microservices.
datasource: url: ${spring.datasource.url} username: ${spring.datasource.username} password: ${spring.datasource.password} Add the client and configuration for the Spring Eureka Service Registry
When you deploy the application to the backend, you want it to register with the Eureka Service Registry so that it can be discovered by other services including the APISIX API Gateway, so that we can easily expose it outside the cluster.">
    <meta property="og:url" content="https://oracle.github.io/microservices-datadriven/cloudbank/account/deploy/index.html">
    <meta property="og:site_name" content="CloudBank AI">
    <meta property="og:title" content="Deploy Account Service :: CloudBank AI">
    <meta property="og:description" content="Prepare the data source configuration for deployment
Update the data source configuration in your src/main/resources/application.yaml as shown in the example below. This will cause the service to read the correct database details that will be injected into its pod by the Oracle Backend for Spring Boot and Microservices.
datasource: url: ${spring.datasource.url} username: ${spring.datasource.username} password: ${spring.datasource.password} Add the client and configuration for the Spring Eureka Service Registry
When you deploy the application to the backend, you want it to register with the Eureka Service Registry so that it can be discovered by other services including the APISIX API Gateway, so that we can easily expose it outside the cluster.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Account Microservice">
    <meta itemprop="name" content="Deploy Account Service :: CloudBank AI">
    <meta itemprop="description" content="Prepare the data source configuration for deployment
Update the data source configuration in your src/main/resources/application.yaml as shown in the example below. This will cause the service to read the correct database details that will be injected into its pod by the Oracle Backend for Spring Boot and Microservices.
datasource: url: ${spring.datasource.url} username: ${spring.datasource.username} password: ${spring.datasource.password} Add the client and configuration for the Spring Eureka Service Registry
When you deploy the application to the backend, you want it to register with the Eureka Service Registry so that it can be discovered by other services including the APISIX API Gateway, so that we can easily expose it outside the cluster.">
    <meta itemprop="wordCount" content="1691">
    <title>Deploy Account Service :: CloudBank AI</title>
    <link href="/microservices-datadriven/cloudbank/images/favicon.png?1725631905" rel="icon" type="image/png">
    <link href="/microservices-datadriven/cloudbank/css/fontawesome-all.min.css?1725631905" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/microservices-datadriven/cloudbank/css/fontawesome-all.min.css?1725631905" rel="stylesheet"></noscript>
    <link href="/microservices-datadriven/cloudbank/css/nucleus.css?1725631905" rel="stylesheet">
    <link href="/microservices-datadriven/cloudbank/css/auto-complete.css?1725631905" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/microservices-datadriven/cloudbank/css/auto-complete.css?1725631905" rel="stylesheet"></noscript>
    <link href="/microservices-datadriven/cloudbank/css/perfect-scrollbar.min.css?1725631905" rel="stylesheet">
    <link href="/microservices-datadriven/cloudbank/css/fonts.css?1725631905" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/microservices-datadriven/cloudbank/css/fonts.css?1725631905" rel="stylesheet"></noscript>
    <link href="/microservices-datadriven/cloudbank/css/theme.css?1725631905" rel="stylesheet">
    <link href="/microservices-datadriven/cloudbank/css/theme-zen-light.css?1725631905" rel="stylesheet" id="R-variant-style">
    <link href="/microservices-datadriven/cloudbank/css/chroma-relearn-light.css?1725631905" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/microservices-datadriven/cloudbank/css/variant.css?1725631905" rel="stylesheet">
    <link href="/microservices-datadriven/cloudbank/css/print.css?1725631905" rel="stylesheet" media="print">
    <script src="/microservices-datadriven/cloudbank/js/variant.js?1725631905"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/oracle.github.io\/microservices-datadriven\/cloudbank';
      window.index_js_url="/microservices-datadriven/cloudbank/index.search.js?1725631905";
      // variant stuff
      window.variants && variants.init( [ 'zen-light' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
  </head>
  <body class="mobile-support html" data-url="/microservices-datadriven/cloudbank/account/deploy/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper"><nav class="TableOfContents">
  <ul>
    <li><a href="#task-8-expose-the-account-service-using-the-apisix-api-gateway">Task 8: Expose the account service using the APISIX API Gateway</a></li>
    <li><a href="#learn-more">Learn More</a></li>
    <li><a href="#acknowledgements">Acknowledgements</a></li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/microservices-datadriven/cloudbank/index.html"><span itemprop="name">CloudBank AI</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/microservices-datadriven/cloudbank/account/index.html"><span itemprop="name">Account Microservice</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Deploy Account Service</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/microservices-datadriven/cloudbank/account/extra-endpoints/index.html" title="Extra Account Endpoints (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/microservices-datadriven/cloudbank/account/expose/index.html" title="Expose using APISIX (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>

<h1 id="deploy-account-service">Deploy Account Service</h1>

<ol>
<li>
<p>Prepare the data source configuration for deployment</p>
<p>Update the data source configuration in your <code>src/main/resources/application.yaml</code> as shown in the example below.  This will cause the service to read the correct database details that will be injected into its pod by the Oracle Backend for Spring Boot and Microservices.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">datasource</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">url</span>: <span style="color:#ae81ff">${spring.datasource.url}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">username</span>: <span style="color:#ae81ff">${spring.datasource.username}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">password</span>: <span style="color:#ae81ff">${spring.datasource.password}</span></span></span></code></pre></div></li>
<li>
<p>Add the client and configuration for the Spring Eureka Service Registry</p>
<p>When you deploy the application to the backend, you want it to register with the Eureka Service Registry so that it can be discovered by other services including the APISIX API Gateway, so that we can easily expose it outside the cluster.</p>
<p>Add the following line to the <code>&lt;properties&gt;</code> to the Maven POM file:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;spring-cloud.version&gt;</span>2023.0.0<span style="color:#f92672">&lt;/spring-cloud.version&gt;</span></span></span></code></pre></div><p>Add the dependency for the client to the Maven POM file:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.cloud<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;artifactId&gt;</span>spring-cloud-starter-netflix-eureka-client<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/dependency&gt;</span></span></span></code></pre></div><p>Add the dependency management to the Maven POM file:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;dependencyManagement&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;dependencies&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.cloud<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&lt;artifactId&gt;</span>spring-cloud-dependencies<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&lt;version&gt;</span>${spring-cloud.version}<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&lt;type&gt;</span>pom<span style="color:#f92672">&lt;/type&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&lt;scope&gt;</span>import<span style="color:#f92672">&lt;/scope&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/dependencies&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/dependencyManagement&gt;</span></span></span></code></pre></div><p>Add the <code>@EnableDiscoveryClient</code> annotation to the <code>AccountsApplication</code> class to enable the service registry.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.cloud.client.discovery.EnableDiscoveryClient;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// .. </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@SpringBootApplication</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@EnableDiscoveryClient</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AccountsApplication</span> {       </span></span></code></pre></div><p>Add the configuration to <code>src/main/resources/application.yaml</code> file.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">eureka</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">instance</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">hostname</span>: <span style="color:#ae81ff">${spring.application.name}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">preferIpAddress</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">client</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">service-url</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">defaultZone</span>: <span style="color:#ae81ff">${eureka.service-url}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">fetch-registry</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">register-with-eureka</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">enabled</span>: <span style="color:#66d9ef">true</span></span></span></code></pre></div></li>
<li>
<p>Build a JAR file for deployment</p>
<p>Run the following command to build the JAR file (it will also remove any earlier builds).  Note that you will need to skip tests now, since you updated the <code>application.yaml</code> and it no longer points to your local test database instance.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ mvn clean package -DskipTests</span></span></code></pre></div><p>The service is now ready to deploy to the backend.</p>
</li>
<li>
<p>Prepare the backend for deployment</p>
<p>The Oracle Backend for Spring Boot and Microservices admin service is not exposed outside the Kubernetes cluster by default. Oracle recommends using a <strong>kubectl</strong> port forwarding tunnel to establish a secure connection to the admin service.</p>
<p>Start a tunnel using this command in a new terminal window:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n obaas-admin port-forward svc/obaas-admin <span style="color:#ae81ff">8080</span></span></span></code></pre></div><p>Get the password for the <code>obaas-admin</code> user. The <code>obaas-admin</code> user is the equivalent of the admin or root user in the Oracle Backend for Spring Boot and Microservices backend.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get secret -n azn-server  oractl-passwords -o jsonpath<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;{.data.admin}&#39;</span> | base64 -d</span></span></code></pre></div><p>Start the Oracle Backend for Spring Boot and Microservices CLI (<em>oractl</em>) in a new terminal window using this command:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ oractl
</span></span><span style="display:flex;"><span> _   _           __    _    ___
</span></span><span style="display:flex;"><span>/ <span style="color:#ae81ff">\ </span>|_<span style="color:#f92672">)</span>  _.  _. <span style="color:#f92672">(</span>_    /  |   |
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">\_</span>/ |_<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>_| <span style="color:#f92672">(</span>_| __<span style="color:#f92672">)</span>   <span style="color:#ae81ff">\_</span> |_ _|_
</span></span><span style="display:flex;"><span><span style="color:#f92672">========================================================================================</span>
</span></span><span style="display:flex;"><span>  Application Name: Oracle Backend Platform :: Command Line Interface
</span></span><span style="display:flex;"><span>  Application Version: <span style="color:#f92672">(</span>1.3.0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  :: Spring Boot <span style="color:#f92672">(</span>v3.3.3<span style="color:#f92672">)</span> ::
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Ask <span style="color:#66d9ef">for</span> help:
</span></span><span style="display:flex;"><span>  - Slack: https://oracledevs.slack.com/archives/C03ALDSV272
</span></span><span style="display:flex;"><span>  - email: obaas_ww@oracle.com
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>oractl:&gt;</span></span></code></pre></div><p>Connect to the Oracle Backend for Spring Boot and Microservices admin service using the <code>connect</code> command. Enter <code>obaas-admin</code> and the username and use the password you collected earlier.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>oractl&gt; connect
</span></span><span style="display:flex;"><span>username: obaas-admin
</span></span><span style="display:flex;"><span>password: **************
</span></span><span style="display:flex;"><span>Credentials successfully authenticated! obaas-admin -&gt; welcome to OBaaS CLI.
</span></span><span style="display:flex;"><span>oractl:&gt;</span></span></code></pre></div><p>Create a database &ldquo;binding&rdquo; by tunning this command.  Enter the password (<code>Welcome1234##</code>) when prompted.  This will create a Kubernetes secret in the <code>application</code> namespace called <code>account-db-secrets</code> which contains the username (<code>account</code>), password, and URL to connect to the Oracle Autonomous Database instance associated with the Oracle Backend for Spring Boot and Microservices.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>oractl:&gt; bind --app-name application --service-name account
</span></span><span style="display:flex;"><span>Database/Service Password: *************
</span></span><span style="display:flex;"><span>Schema <span style="color:#f92672">{</span>account<span style="color:#f92672">}</span> was successfully Not_Modified and Kubernetes Secret <span style="color:#f92672">{</span>application/account<span style="color:#f92672">}</span> was successfully Created.
</span></span><span style="display:flex;"><span>oractl:&gt;</span></span></code></pre></div><p>This created a Kubernetes secret with the credentials to access the database using this Spring Boot microservice application&rsquo;s username and password.  When you deploy the application, its pods will have the keys in this secret injected as environment variables so the application can use them to authenticate to the database.</p>
</li>
<li>
<p>Deploy the account service</p>
<p>You will now deploy your account service to the Oracle Backend for Spring Boot and Microservices using the CLI.  You will deploy into the <code>application</code> namespace, and the service name will be <code>account</code>.  Run this command to deploy your service, make sure you provide the correct path to your JAR file.  <strong>Note</strong> that this command may take 1-3 minutes to complete:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>oractl:&gt; deploy --app-name application --service-name account --artifact-path /path/to/accounts-0.0.1-SNAPSHOT.jar --image-version 0.0.1
</span></span><span style="display:flex;"><span>uploading: /Users/atael/tmp/cloudbank/accounts/target/accounts-0.0.1-SNAPSHOT.jar
</span></span><span style="display:flex;"><span>building and pushing image...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>creating deployment and service...
</span></span><span style="display:flex;"><span>obaas-cli <span style="color:#f92672">[</span>deploy<span style="color:#f92672">]</span>: Application was successfully deployed
</span></span><span style="display:flex;"><span>NOTICE: service not accessible outside K8S
</span></span><span style="display:flex;"><span>oractl:&gt;</span></span></code></pre></div><blockquote>
<p>What happens when you use the Oracle Backend for Spring Boot and Microservices CLI (<em>oractl</em>) <strong>deploy</strong> command? When you run the <strong>deploy</strong> command, the Oracle Backend for Spring Boot and Microservices CLI does several things for you:</p>
</blockquote>
<ul>
<li>Uploads the JAR file to server side</li>
<li>Builds a container image and push it to the OCI Registry</li>
<li>Inspects the JAR file and looks for bind resources (JMS)</li>
<li>Create the microservices deployment descriptor (k8s) with the resources supplied</li>
<li>Applies the k8s deployment and create k8s object service to microservice</li>
</ul>
</li>
<li>
<p>Verify account service</p>
<p>You can check if the account service is running properly by running the following command:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl logs -n application svc/account</span></span></code></pre></div><p>The command will return the logfile content for the account service. If everything is running properly you should see something like this:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>2023-06-01 20:44:24.882  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;
</span></span><span style="display:flex;"><span>2023-06-01 20:44:24.883  INFO 1 --- [           main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8080
</span></span><span style="display:flex;"><span>2023-06-01 20:44:24.903  INFO 1 --- [           main] c.example.accounts.AccountsApplication   : Started AccountsApplication in 14.6 seconds (JVM running for 15.713)
</span></span><span style="display:flex;"><span>2023-06-01 20:44:31.971  INFO 1 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;
</span></span><span style="display:flex;"><span>2023-06-01 20:44:31.971  INFO 1 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;
</span></span><span style="display:flex;"><span>2023-06-01 20:44:31.975  INFO 1 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms</span></span></code></pre></div></li>
<li>
<p>Check the Eureka Server</p>
<p>Create a tunnel to the Eureka server, so you can verify the <code>ACCOUNTS</code> application has registered with the server.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n eureka port-forward svc/eureka <span style="color:#ae81ff">8761</span></span></span></code></pre></div><p>Open a web browser to <a href="http://localhost:8761" rel="external" target="_blank">Eureka Dashboard</a> to vew the Eureka Server dashboard web user interface. It will look similar to this. Note that the <code>ACCOUNT</code> application you have built has registered with Eureka.</p>
</li>
</ol>
<p><a href="#R-image-a408600b4713c871e0a1c92366a7d504" class="lightbox-link"><img alt="Eureka Server Web Interface" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../images/eureka-dashboard.png" style=" height: auto; width: auto;" title=" "></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a408600b4713c871e0a1c92366a7d504"><img alt="Eureka Server Web Interface" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../images/eureka-dashboard.png" title=" "></a></p>
<h2 id="task-8-expose-the-account-service-using-the-apisix-api-gateway">Task 8: Expose the account service using the APISIX API Gateway</h2>
<p>Now that the account service is deployed, you need to expose it through the API Gateway so that clients will be able to access it.  This is done by creating a &ldquo;route&rdquo; in APISIX Dashboard.</p>
<ol>
<li>
<p>Retrieve the admin password for the APISIX API Gateway.</p>
<p>Execute the following command to get the password for the <code>admin</code> user for the APISIX API Gateway:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get secret -n apisix apisix-dashboard -o jsonpath<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;{.data.conf\.yaml}&#39;</span> | base64 -d | grep <span style="color:#e6db74">&#39;password:&#39;</span></span></span></code></pre></div></li>
<li>
<p>Access the APISIX Dashboard</p>
<p>The APISIX Dashboard isn&rsquo;t exposed outside the cluster. You need to start a tunnel to be able to access APISIX Dashboard. Start the tunnel using this command in a new terminal window:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n apisix port-forward svc/apisix-dashboard 8090:80</span></span></code></pre></div><p>Open a web browser to <a href="http://localhost:8090" rel="external" target="_blank">APISIX Dashboard</a> to view the APISIX Dashboard web user interface.  It will appear similar to the image below.</p>
<p>If prompted to login, login with username <code>admin</code> and the password you retrieved earlier. Note that Oracle strongly recommends that you change the password, even though this interface is not accessible outside the cluster without a tunnel.</p>
<p>Open the <strong>routes</strong> page from the left hand side menu.  You will not have any routes yet.</p>
<p><a href="#R-image-82042f7f865f49005d818d9b84264bb1" class="lightbox-link"><img alt="APISIX Dashboard route list" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../images/obaas-apisix-route-list.png" style=" height: auto; width: auto;" title=" "></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-82042f7f865f49005d818d9b84264bb1"><img alt="APISIX Dashboard route list" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../images/obaas-apisix-route-list.png" title=" "></a></p>
</li>
<li>
<p>Create the route</p>
<p>Click on the <strong>Create</strong> button to start creating a route.  The <strong>Create route</strong> page will appear. Enter <code>account</code> in the <strong>Name</strong> field:</p>
<p><a href="#R-image-69b398e1c598f72d3568e31c062d98b0" class="lightbox-link"><img alt="APISIX Create route" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../images/obaas-apisix-create-route-1.png" style=" height: auto; width: auto;" title=" "></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-69b398e1c598f72d3568e31c062d98b0"><img alt="APISIX Create route" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../images/obaas-apisix-create-route-1.png" title=" "></a></p>
<p>Scroll down to the <strong>Request Basic Define</strong> section.  Set the <strong>Path</strong> to <code>/api/v1/account*</code>.  This tells APISIX API Gateway that any incoming request for that URL path (on any host or just IP address) should use this route.  In the <strong>HTTP Method</strong> select <code>GET</code>, <code>POST</code>, <code>DELETE</code>, and <code>OPTIONS</code>.  The first three you will recall using directly in the implementation of the account service during this lab.  User interfaces and other clients will often send an <code>OPTIONS</code> request before a &ldquo;real&rdquo; request to see if the service exists and check headers and so on, so it is a good practice to allow <code>OPTIONS</code> as well.</p>
<p><a href="#R-image-dd2cd6e1b4878841342488a1cb400fed" class="lightbox-link"><img alt="APISIX Create route" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../images/obaas-apisix-create-route-2.png" style=" height: auto; width: auto;" title=" "></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-dd2cd6e1b4878841342488a1cb400fed"><img alt="APISIX Create route" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../images/obaas-apisix-create-route-2.png" title=" "></a></p>
<p>Click on the <strong>Next</strong> button to move to the <strong>Define API Backend Server</strong> page.  On this page you configure where to route requests to. In the <strong>Upstream Type</strong> field, select <strong>Service Discovery</strong>.  Then in the <strong>Discovery Type</strong> field, select <strong>Eureka</strong>.  In the <strong>Service Name</strong> field enter <code>ACCOUNT</code>.  This tells APISIX to lookup the service in Spring Eureka Service Registry with the key <code>ACCOUNT</code> and route requests to that service using a Round Robin algorithm to distribute requests.</p>
<p><a href="#R-image-e6752dd8f3401d26af37504a1ae3702f" class="lightbox-link"><img alt="APISIX Create route" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../images/obaas-apisix-create-route-3.png" style=" height: auto; width: auto;" title=" "></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e6752dd8f3401d26af37504a1ae3702f"><img alt="APISIX Create route" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../images/obaas-apisix-create-route-3.png" title=" "></a></p>
<p>Click on <strong>Next</strong> to go to the <strong>Plugin Config</strong> page.  You will not add any plugins right now.  You may wish to browse through the list of available plugins on this page.  When you are ready, click on <strong>Next</strong> to go to the <strong>Preview</strong> page.  Check the details and then click on <strong>Submit</strong> to create the route.</p>
<p>When you return to the route list page, you will see your new <code>account</code> route in the list now.</p>
<p><a href="#R-image-f7c8cb54d8b42b36add634dece19e7f1" class="lightbox-link"><img alt="APISIX Route Created" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../images/obaas-apisix-route-created.png" style=" height: auto; width: auto;" title=" "></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f7c8cb54d8b42b36add634dece19e7f1"><img alt="APISIX Route Created" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../images/obaas-apisix-route-created.png" title=" "></a></p>
</li>
<li>
<p>Verify the account service</p>
<p>In the next two commands, you need to provide the correct IP address for the API Gateway in your backend environment.  You can find the IP address using this command, you need the one listed in the <strong><code>EXTERNAL-IP</code></strong> column:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n ingress-nginx get service ingress-nginx-controller
</span></span><span style="display:flex;"><span>NAME                       TYPE           CLUSTER-IP      EXTERNAL-IP   PORT<span style="color:#f92672">(</span>S<span style="color:#f92672">)</span>                      AGE
</span></span><span style="display:flex;"><span>ingress-nginx-controller   LoadBalancer   10.123.10.127   100.20.30.40  80:30389/TCP,443:30458/TCP   13d</span></span></code></pre></div><p>Test the create account endpoint with this command, use the IP address (<strong>EXTERNAL-IP</strong> in the table above) for your API Gateway:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl -i -X POST <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#39;Content-Type: application/json&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#39;{&#34;accountName&#34;: &#34;Sanjay&#39;&#39;s Savings&#34;, &#34;accountType&#34;: &#34;SA&#34;, &#34;accountCustomerId&#34;: &#34;bkzLp8cozi&#34;, &#34;accountOtherDetails&#34;: &#34;Savings Account&#34;}&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  http://&lt;EXTERNAL-IP&gt;/api/v1/account
</span></span><span style="display:flex;"><span>HTTP/1.1 <span style="color:#ae81ff">201</span>
</span></span><span style="display:flex;"><span>Date: Wed, <span style="color:#ae81ff">01</span> Mar <span style="color:#ae81ff">2023</span> 18:35:31 GMT
</span></span><span style="display:flex;"><span>Content-Type: application/json
</span></span><span style="display:flex;"><span>Transfer-Encoding: chunked
</span></span><span style="display:flex;"><span>Connection: keep-alive
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span><span style="color:#e6db74">&#34;accountId&#34;</span>:24,<span style="color:#e6db74">&#34;accountName&#34;</span>:<span style="color:#e6db74">&#34;Sanjays Savings&#34;</span>,<span style="color:#e6db74">&#34;accountType&#34;</span>:<span style="color:#e6db74">&#34;SA&#34;</span>,<span style="color:#e6db74">&#34;accountCustomerId&#34;</span>:<span style="color:#e6db74">&#34;bkzLp8cozi&#34;</span>,<span style="color:#e6db74">&#34;accountOpenedDate&#34;</span>:null,<span style="color:#e6db74">&#34;accountOtherDetails&#34;</span>:<span style="color:#e6db74">&#34;Savings Account&#34;</span>,<span style="color:#e6db74">&#34;accountBalance&#34;</span>:0<span style="color:#f92672">}</span></span></span></code></pre></div><p>Test the get account endpoint with this command, use the IP address for your API Gateway and the <code>accountId</code> that was returned in the previous command:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl -s http://&lt;EXTERNAL-IP&gt;/api/v1/account/24 | jq .
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;accountId&#34;</span>: 24,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;accountName&#34;</span>: <span style="color:#e6db74">&#34;Sanjay&#39;s Savings&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;accountType&#34;</span>: <span style="color:#e6db74">&#34;SA&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;accountCustomerId&#34;</span>: <span style="color:#e6db74">&#34;bkzLp8cozi&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;accountOpenedDate&#34;</span>: null,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;accountOtherDetails&#34;</span>: <span style="color:#e6db74">&#34;Savings Account&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;accountBalance&#34;</span>: <span style="color:#ae81ff">1040</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>Your service is deployed in the Oracle Backend for Spring Boot and Microservices environment and using the Oracle Autonomous Database instance associated with the backend.</p>
</li>
</ol>
<h2 id="learn-more">Learn More</h2>
<ul>
<li><a href="https://bit.ly/oraclespringboot" rel="external" target="_blank">Oracle Backend for Spring Boot and Microservices</a></li>
<li><a href="https://kubernetes.io/docs/home/" rel="external" target="_blank">Kubernetes</a></li>
<li><a href="https://apisix.apache.org" rel="external" target="_blank">Apache APISIX</a></li>
<li><a href="https://docs.oracle.com/en-us/iaas/Content/home.htm" rel="external" target="_blank">Oracle Cloud Infrastructure</a></li>
</ul>
<h2 id="acknowledgements">Acknowledgements</h2>
<ul>
<li><strong>Author</strong> - Andy Tael, Mark Nelson, Developer Evangelists, Oracle Database</li>
<li><strong>Contributors</strong> - <a href="var:contributors" rel="external" target="_blank"></a></li>
<li><strong>Last Updated By/Date</strong> - Andy Tael, July 2024</li>
</ul>

            <footer class="footline">
            </footer>
          </article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
<img src="https://oracle.github.io/microservices-datadriven/cloudbank//cloudbank-logo.png" height="100px">
        </div>

        <search>
          <div class="searchbox default-animation">
            <i class="fas fa-search" title="Search (CTRL+ALT+f)"></i>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </search>
        <script>
          var contentLangs=['en'];
        </script>
        <script src="/microservices-datadriven/cloudbank/js/auto-complete.js?1725631905" defer></script>
        <script src="/microservices-datadriven/cloudbank/js/lunr/lunr.min.js?1725631905" defer></script>
        <script src="/microservices-datadriven/cloudbank/js/lunr/lunr.stemmer.support.min.js?1725631905" defer></script>
        <script src="/microservices-datadriven/cloudbank/js/lunr/lunr.multi.min.js?1725631905" defer></script>
        <script src="/microservices-datadriven/cloudbank/js/lunr/lunr.en.min.js?1725631905" defer></script>
        <script src="/microservices-datadriven/cloudbank/js/search.js?1725631905" defer></script>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <ul>
          <li><a class="padding" href="/microservices-datadriven/cloudbank/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
        </ul>
        <hr class="padding">
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div id="R-topics">
          <ul class="enlarge morespace collapsible-menu">
          <li data-nav-id="/microservices-datadriven/cloudbank/provision/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/provision/index.html">Provision an Instance</a><ul id="R-subsections-c4dad079c96d7a5f54ae00022bcdf7a9" class="morespace collapsible-menu">
          <li data-nav-id="/microservices-datadriven/cloudbank/provision/intro/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/provision/intro/index.html">Introduction</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/provision/install-local/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/provision/install-local/index.html">Install locally</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/provision/install-free-trial/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/provision/install-free-trial/index.html">Install in OCI Free Tier</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/provision/install-mp/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/provision/install-mp/index.html">Install from OCI Marketplace</a></li></ul></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/devenv/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/devenv/index.html">Developer Environment</a><ul id="R-subsections-2fffb9f659e25ea05f48554f2d40267b" class="morespace collapsible-menu">
          <li data-nav-id="/microservices-datadriven/cloudbank/devenv/intro/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/devenv/intro/index.html">Introduction</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/devenv/ide/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/devenv/ide/index.html">Install IDE</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/devenv/jdk/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/devenv/jdk/index.html">Install JDK</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/devenv/maven/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/devenv/maven/index.html">Install Maven</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/devenv/oractl/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/devenv/oractl/index.html">Install CLI</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/devenv/kubectl/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/devenv/kubectl/index.html">Install Kubectl and OCI CLI</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/devenv/kubectl-config/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/devenv/kubectl-config/index.html">Configure Kubectl</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/devenv/sqlcl/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/devenv/sqlcl/index.html">Install SQLcl</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/devenv/db-access/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/devenv/db-access/index.html">Database Access</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/devenv/ide-plugin/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/devenv/ide-plugin/index.html">Install IDE Plugin</a></li></ul></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/account/index.html" class="parent "><a class="padding" href="/microservices-datadriven/cloudbank/account/index.html">Account Microservice</a><ul id="R-subsections-76e28dbc741f507e3fb0c19b5c4edf13" class="morespace collapsible-menu">
          <li data-nav-id="/microservices-datadriven/cloudbank/account/intro/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/account/intro/index.html">Introduction</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/account/create-project/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/account/create-project/index.html">Create Project</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/account/first-service/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/account/first-service/index.html">Implement First Service</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/account/prepare-database/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/account/prepare-database/index.html">Prepare Database Objects</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/account/jpa/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/account/jpa/index.html">Use Spring Data JPA</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/account/cr-accounts/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/account/cr-accounts/index.html">Query and Create Accounts</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/account/extra-endpoints/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/account/extra-endpoints/index.html">Extra Account Endpoints</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/account/deploy/index.html" class="active"><a class="padding" href="/microservices-datadriven/cloudbank/account/deploy/index.html">Deploy Account Service</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/account/expose/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/account/expose/index.html">Expose using APISIX</a></li></ul></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/check/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/check/index.html">Check Processing</a><ul id="R-subsections-2e52f5710292dcaa7e94f0ed85216aa3" class="morespace collapsible-menu">
          <li data-nav-id="/microservices-datadriven/cloudbank/check/intro/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/check/intro/index.html">Introduction</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/check/learn/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/check/learn/index.html">Learn about the scenario</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/check/update-account/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/check/update-account/index.html">Add Journal to the Account service</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/check/create-queues/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/check/create-queues/index.html">Create Queues in the Database</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/check/create-testrunner/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/check/create-testrunner/index.html">Create the Test Runner Microservice</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/check/check-processing/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/check/check-processing/index.html">Create the Check Processing Microservice</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/check/test/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/check/test/index.html">Test the end-to-end flow</a></li></ul></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/saga/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/saga/index.html">Manage Sagas</a><ul id="R-subsections-68e46fa1c2f619d718e34efdb238a235" class="morespace collapsible-menu">
          <li data-nav-id="/microservices-datadriven/cloudbank/saga/intro/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/saga/intro/index.html">Introduction</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/saga/learn/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/saga/learn/index.html">Learn about the Saga pattern</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/saga/learn-lra/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/saga/learn-lra/index.html">Learn about Long Running Actions</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/saga/prepare/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/saga/prepare/index.html">Prepare the Account service</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/saga/deposit/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/saga/deposit/index.html">Create the Deposit service</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/saga/dao/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/saga/dao/index.html">Create a Data Access Object</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/saga/business-logic/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/saga/business-logic/index.html">Implement business logic</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/saga/withdraw-service/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/saga/withdraw-service/index.html">Create the Withdrawal service</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/saga/transfer-service/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/saga/transfer-service/index.html">Create the Transfer service</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/saga/deploy/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/saga/deploy/index.html">Deploy services</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/saga/test/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/saga/test/index.html">Run LRA test cases</a></li></ul></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/springai/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/springai/index.html">CloudBank AI Assistant</a><ul id="R-subsections-010a88853c155279dea049cae3232240" class="morespace collapsible-menu">
          <li data-nav-id="/microservices-datadriven/cloudbank/springai/simple-chat/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/springai/simple-chat/index.html">A simple ChatBot</a></li></ul></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/deploy-cli/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/deploy-cli/index.html">Deploy with the CLI</a><ul id="R-subsections-700415e649763a5591d9524d38ddb106" class="morespace collapsible-menu">
          <li data-nav-id="/microservices-datadriven/cloudbank/deploy-cli/intro/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/deploy-cli/intro/index.html">Introduction</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/deploy-cli/get-code/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/deploy-cli/get-code/index.html">Get the sample code</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/deploy-cli/build/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/deploy-cli/build/index.html">Build CloudBank</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/deploy-cli/deploy/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/deploy-cli/deploy/index.html">Deploy CloudBank</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/deploy-cli/create-routes/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/deploy-cli/create-routes/index.html">Create APISIX routes</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/deploy-cli/verify/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/deploy-cli/verify/index.html">Verify the deployment</a></li></ul></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/deploy-ide/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/deploy-ide/index.html">Deploy with an IDE</a><ul id="R-subsections-97c3d292d2b014877ffb07154d1cf214" class="morespace collapsible-menu">
          <li data-nav-id="/microservices-datadriven/cloudbank/deploy-ide/intro/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/deploy-ide/intro/index.html">Introduction</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/deploy-ide/get-code/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/deploy-ide/get-code/index.html">Get the sample code</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/deploy-ide/build/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/deploy-ide/build/index.html">Build CloudBank</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/deploy-ide/using-vscode/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/deploy-ide/using-vscode/index.html">Using the VS Code plugin</a></li></ul></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/backend/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/backend/index.html">Explore the Backend</a><ul id="R-subsections-9a5cf8da07713c78ee52a8d0397cb806" class="morespace collapsible-menu">
          <li data-nav-id="/microservices-datadriven/cloudbank/backend/intro/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/backend/intro/index.html">Introduction</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/backend/k8s/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/backend/k8s/index.html">Explore Kubernetes</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/backend/database/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/backend/database/index.html">Explore Oracle Autonomous Database</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/backend/admin/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/backend/admin/index.html">Explore Spring Admin</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/backend/eureka/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/backend/eureka/index.html">Explore Eureka Service Registry</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/backend/apisix/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/backend/apisix/index.html">Explore APISIX API Gateway</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/backend/config/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/backend/config/index.html">Explore Spring Config Server</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/backend/grafana/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/backend/grafana/index.html">Explore Grafana</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/backend/jaeger/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/backend/jaeger/index.html">Explore Jaeger</a></li></ul></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/cleanup/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/cleanup/index.html">Cleanup</a><ul id="R-subsections-2a114b4f7d7c1e92ed8ef74b99ba5d82" class="morespace collapsible-menu">
          <li data-nav-id="/microservices-datadriven/cloudbank/cleanup/intro/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/cleanup/intro/index.html">Introduction</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/cleanup/uninstall-local/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/cleanup/uninstall-local/index.html">Local cleanup</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/cleanup/uninstall-free-trial/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/cleanup/uninstall-free-trial/index.html">OCI Free Tier Cleanup</a></li>
          <li data-nav-id="/microservices-datadriven/cloudbank/cleanup/uninstall-mp/index.html" class=""><a class="padding" href="/microservices-datadriven/cloudbank/cleanup/uninstall-mp/index.html">OCI Marketplace Uninstall</a></li></ul></li>
          </ul>
        </div>
        <div id="R-shortcuts">
          <div class="nav-title padding">More</div>
          <ul class="space">
            <li><a class="padding" href="https://github.com/oracle/microservices-datadriven"><i class='fa-fw fab fa-github'></i> GitHub repo</a></li>
            <li><a class="padding" href="https://bit.ly/oraclespringboot"><i class='fa-fw fas fa-bookmark'></i> Oracle Backend for Spring Boot and Microservices</a></li>
            <li><a class="padding" href="https://github.com/oracle/spring-cloud-oracle"><i class='fa-fw fas fa-bookmark'></i> Spring Cloud Oracle</a></li>
            <li><a class="padding" href="/microservices-datadriven/cloudbank/more/credits/index.html"><i class='fa-fw fas fa-bullhorn'></i> Credits</a></li>
          </ul>
        </div>
        <div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"></div>
        <div id="R-menu-footer">
          <hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter">
          <div id="R-prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks">
            <ul>
              <li id="R-select-language-container" class="footerLangSwitch">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-language"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-language">Language</label>
                    <select id="R-select-language" onchange="location = this.querySelector( this.value ).dataset.url;">
                      <option id="R-select-language-en" value="#R-select-language-en" data-url="/microservices-datadriven/cloudbank/account/deploy/index.html" lang="en-us" selected></option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
              <li id="R-select-variant-container" class="footerVariantSwitch">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-paint-brush"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-variant">Theme</label>
                    <select id="R-select-variant" onchange="window.variants && variants.changeVariant( this.value );">
                      <option id="R-select-variant-zen-light" value="zen-light" selected>Zen Light</option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
                <script>window.variants && variants.markSelectedVariant();</script>
              </li>
              <li class="footerVisitedLinks">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-history"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <button onclick="clearHistory();">Clear History</button>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
            </ul>
          </div>
          <div id="R-footer" class="footerFooter showFooter">
	    <p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://www.oracle.com/">Oracle</a></p>
		<p>Copyright &copy; 2022, 2024, <br>Oracle and/or its affiliates</p>
          </div>
        </div>
      </div>
    </aside>
    <script src="/microservices-datadriven/cloudbank/js/clipboard.min.js?1725631905" defer></script>
    <script src="/microservices-datadriven/cloudbank/js/perfect-scrollbar.min.js?1725631905" defer></script>
    <script src="/microservices-datadriven/cloudbank/js/theme.js?1725631905" defer></script>
  </body>
</html>
