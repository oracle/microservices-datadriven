#!/bin/bash
# Copyright (c) 2021 Oracle and/or its affiliates.
# Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.


echo kubectl -n msdataworkshop get prometheus...
kubectl -n msdataworkshop get prometheus

# echo kubectl -n msdataworkshop describe prometheus stable-kube-prometheus-sta-prometheus
# kubectl -n msdataworkshop describe prometheus stable-kube-prometheus-sta-prometheus

echo kubectl get servicemonitors -n msdataworkshop...
kubectl get servicemonitors -n msdataworkshop
# kubectl describe servicemonitors prometheus-order -n msdataworkshop
echo ...
echo configmaps...
kubectl get configmap db-teq-orderpdb-exporter-config -n msdataworkshop
kubectl get configmap db-teq-inventorypdb-exporter-config -n msdataworkshop
echo ...
echo kubectl get deployments -n msdataworkshop -n msdataworkshop |grep exporter...
kubectl get deployments -n msdataworkshop -n msdataworkshop |grep exporter
echo ...
echo kubectl get services -n msdataworkshop -n msdataworkshop |grep exporter...
kubectl get services -n msdataworkshop -n msdataworkshop |grep exporter

echo ...
echo see http://[prometheus_service_address]:9090/classic/targets to verify and debug servicemonitors