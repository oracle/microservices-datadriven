{ "description" : "This dashboard uses the system metrics collected from the `hostmetrics` receiver to show CPU, Memory, Disk, Network and Filesystem usage", "dotMigrated" : true, "image" : "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE0Ljk0OTQgMTMuOTQyQzE2LjIzMTggMTIuNDI1OCAxNy4zMjY4IDkuNzAyMiAxNi4xOTU2IDYuNTc0ODdDMTUuNjQ0MyA1LjA1MjQ1IDE1LjAyMTkgNC4yMDI0OSAxNC4yOTY5IDMuNjYyNTJDMTMuODU1NyAzLjMzMzc5IDEyLjA5MzMgMi41MDYzMyA5Ljc1OTY1IDIuODY3NTZDOC4wNTM0OSAzLjEzMjU1IDUuNzc0ODcgNC4yMDg3NCA0LjI5MzY5IDUuOTU5OUMyLjg1NzUyIDcuNjYxMDYgMS43NDg4MyA5LjAwNDc0IDEuNjk3NTggMTAuMzA5N0MxLjYzMTMzIDExLjk4ODMgMi44OTYyNyAxMy40MzA4IDMuMDUwMDEgMTMuNjY0NUMzLjMyMzc0IDE0LjA3OTUgNS4xOTExNSAxNi40NTE4IDguNjk5NzEgMTYuNTczMUMxMS43OTcgMTYuNjc5MyAxMy44MTQ0IDE1LjI4NDQgMTQuOTQ5NCAxMy45NDJaIiBmaWxsPSIjNDAzRDNFIi8+CjxwYXRoIGQ9Ik00LjU1MzYzIDIuNzM3NDdDMi45Mzc0NiAzLjg5MTE2IDEuMTIxMzEgNi4yNTEwMyAxLjQ0NzU0IDkuNTYwODZDMS42MDYyOCAxMS4xNzIgMi4wMDI1MSAxMi4xNDk1IDIuNTcxMjMgMTIuODUwN0MyLjkxNzQ2IDEzLjI3ODIgNC40MTk4OCAxNC41NDkzIDYuNzczNTEgMTQuNzM2OEM5LjE0NTg4IDE0LjkyNTYgMTAuOTQ5NSAxNC4zOTQ0IDEyLjgzMzIgMTMuMDg0NEMxNi42NjE3IDEwLjQyMDggMTYuMDk4IDYuMzkzNTMgMTUuOTM0MyA1LjkyNDhDMTUuNzcwNSA1LjQ1NjA3IDE0LjU0NDQgMi42OTYyMiAxMS4xNzMzIDEuNzE1MDJDOC4xOTg0NCAwLjg1MDA2OCA1Ljk4MzU1IDEuNzE1MDIgNC41NTM2MyAyLjczNzQ3WiIgZmlsbD0iIzVFNjM2NyIvPgo8cGF0aCBkPSJNNy4zOTM1MyAyLjk2MTA5QzUuNjE3MzcgMi44OTczNCAzLjkxOTk2IDQuMjg4NTIgMy43NTYyMiA2LjAwNTkzQzMuNTkyNDggNy43MjIwOSA0LjY1NDkyIDkuMDI5NTIgNi4zMDk4MyA5LjI5NTc2QzcuOTY0NzUgOS41NjA3NCA5Ljg3ODM5IDguNTU1OCAxMC4yNjM0IDYuNDUwOTFDMTAuNjYwOSA0LjI4MjI3IDkuMDg5NjkgMy4wMjIzNCA3LjM5MzUzIDIuOTYxMDlaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNy45NDIxNyA1LjkwMTE1QzcuOTQyMTcgNS45MDExNSA4LjM2OTY1IDUuODEyNCA4LjQ1NDY1IDUuMTgyNDRDOC41MzgzOSA0LjU2MjQ3IDguMjMwOTEgNC4wMzM3NSA3LjUxMzQ1IDMuODQzNzZDNi43MzM0OSAzLjYzNzUyIDYuMjA0NzcgNC4wNjYyNSA2LjA2NzI3IDQuNTE3NDdDNS44NzYwMyA1LjE0NDk0IDYuMTU4NTIgNS40NDM2NyA2LjE1ODUyIDUuNDQzNjdDNi4xNTg1MiA1LjQ0MzY3IDUuMzkzNTYgNS42Mjc0MSA1LjMzMjMxIDYuNTI5ODdDNS4yNzQ4MSA3LjM4MTA3IDUuODU2MDMgNy44Mzg1NSA2LjQzOTc1IDcuOTc4NTRDNy4xNjA5NiA4LjE1MjI4IDcuOTc4NDIgNy45NTQ3OSA4LjE3ODQxIDcuMDM0ODRDOC4zNDQ2NSA2LjI3NzM4IDcuOTQyMTcgNS45MDExNSA3Ljk0MjE3IDUuOTAxMTVaIiBmaWxsPSIjMzAzMDMwIi8+CjxwYXRoIGQ9Ik02LjczOTgzIDQuNzUzNjJDNi42NzEwOSA1LjAxMjM1IDYuODA4NTggNS4yNjIzNCA3LjA3ODU3IDUuMzMxMDlDNy4zNjk4IDUuNDA0ODMgNy42MzQ3OSA1LjMwODU5IDcuNzA2MDMgNS4wMTExQzcuNzY4NTMgNC43NDczNyA3LjY0MzU0IDQuNTE0ODggNy4zMzYwNSA0LjQzOTg4QzcuMDgzNTcgNC4zNzczOSA2LjgxNDgzIDQuNDcxMTMgNi43Mzk4MyA0Ljc1MzYyWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTYuOTU5NzggNi4wMzk3NEM2LjYzMjMgNS45Mzg0OSA2LjE5OTgyIDYuMDY0NzMgNi4xMzEwNyA2LjUwNDcxQzYuMDYyMzMgNi45NDQ2OSA2LjMyNjA2IDcuMTY5NjggNi42NzEwNCA3LjIzMjE3QzcuMDE2MDMgNy4yOTQ2NyA3LjM0MjI2IDcuMTEzNDMgNy40MDYwMSA2Ljc2MDk1QzcuNDY4NSA2LjQwOTcyIDcuMjg2MDEgNi4xMzk3MyA2Ljk1OTc4IDYuMDM5NzRaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K", "layout" : [ { "h" : 1, "i" : "f8abf828-e45d-4712-bb23-f6aec69bc4fa", "maxH" : 1, "minH" : 1, "minW" : 12, "moved" : false, "static" : false, "w" : 12, "x" : 0, "y" : 0 }, { "h" : 3, "i" : "b33f0bad-e623-4c2b-b854-12270f211690", "moved" : false, "static" : false, "w" : 3, "x" : 0, "y" : 1 }, { "h" : 3, "i" : "5d89be47-9c43-4b0f-96c0-1dc72dbfa356", "moved" : false, "static" : false, "w" : 3, "x" : 3, "y" : 1 }, { "h" : 3, "i" : "0ce16128-ff8d-479d-8db2-10ac8fb47bc2", "moved" : false, "static" : false, "w" : 3, "x" : 6, "y" : 1 }, { "h" : 3, "i" : "f9df830b-cb02-4e70-b72a-f89a2e4f8196", "moved" : false, "static" : false, "w" : 3, "x" : 9, "y" : 1 }, { "h" : 1, "i" : "f9d3d624-01e9-430c-b4a8-a1371fe35628", "maxH" : 1, "minH" : 1, "minW" : 12, "moved" : false, "static" : false, "w" : 12, "x" : 0, "y" : 4 }, { "h" : 6, "i" : "5f43aa0f-cc5f-4a29-9cd7-dd0505db35a9", "moved" : false, "static" : false, "w" : 6, "x" : 0, "y" : 5 }, { "h" : 6, "i" : "ea1d1541-7787-4e09-8e5b-69be7f6af1ce", "moved" : false, "static" : false, "w" : 6, "x" : 6, "y" : 5 }, { "h" : 6, "i" : "f4d0972c-6d7b-44b0-b813-8063f0bb7410", "moved" : false, "static" : false, "w" : 6, "x" : 0, "y" : 11 }, { "h" : 6, "i" : "fbc102af-88fb-488f-9c7a-c89551593c9e", "moved" : false, "static" : false, "w" : 6, "x" : 6, "y" : 11 }, { "h" : 6, "i" : "d497c2d7-372e-4670-9917-9bcbc25d0487", "moved" : false, "static" : false, "w" : 6, "x" : 0, "y" : 17 }, { "h" : 6, "i" : "45a54f00-081e-42b2-8134-c3848f4ac19e", "moved" : false, "static" : false, "w" : 6, "x" : 6, "y" : 17 }, { "h" : 1, "i" : "fbaade42-9fdb-4023-9a6b-b2a7000ab24c", "maxH" : 1, "minH" : 1, "minW" : 12, "moved" : false, "static" : false, "w" : 12, "x" : 0, "y" : 23 }, { "h" : 6, "i" : "24e4d4c3-4ada-4e9d-bc3b-e19d314daa27", "moved" : false, "static" : false, "w" : 6, "x" : 0, "y" : 24 }, { "h" : 1, "i" : "94c3ba3e-b5de-49da-8a4d-f4572585d2e6", "maxH" : 1, "minH" : 1, "minW" : 12, "moved" : false, "static" : false, "w" : 12, "x" : 0, "y" : 30 }, { "h" : 6, "i" : "3d74094e-241b-4560-9128-abb1af79ae3c", "moved" : false, "static" : false, "w" : 6, "x" : 0, "y" : 31 }, { "h" : 6, "i" : "9a8ac524-afe4-457a-b17a-45f11c4f0fcf", "moved" : false, "static" : false, "w" : 6, "x" : 6, "y" : 31 }, { "h" : 6, "i" : "f42a3a42-8099-4be9-a6b5-1528d1f1bdfa", "moved" : false, "static" : false, "w" : 6, "x" : 0, "y" : 37 }, { "h" : 6, "i" : "e796af4a-abe8-4ff4-9bba-0b7eb81c022a", "moved" : false, "static" : false, "w" : 6, "x" : 6, "y" : 37 }, { "h" : 6, "i" : "9abc2374-d1ef-4ad6-958b-2355addcb245", "moved" : false, "static" : false, "w" : 12, "x" : 0, "y" : 43 }, { "h" : 1, "i" : "cdae1cea-ab16-46db-9100-af2fb7971198", "maxH" : 1, "minH" : 1, "minW" : 12, "moved" : false, "static" : false, "w" : 12, "x" : 0, "y" : 49 }, { "h" : 6, "i" : "a9013487-0479-4a09-a613-b3fc20e4d666", "moved" : false, "static" : false, "w" : 6, "x" : 0, "y" : 50 }, { "h" : 6, "i" : "3f186d43-6b86-4b71-962b-4ccddd8d7481", "moved" : false, "static" : false, "w" : 6, "x" : 6, "y" : 50 }, { "h" : 6, "i" : "e2683847-faa3-42f6-bb3c-4367a3e76294", "moved" : false, "static" : false, "w" : 6, "x" : 0, "y" : 56 }, { "h" : 6, "i" : "64f1ea50-0c34-4e43-9912-0d9547e2e436", "moved" : false, "static" : false, "w" : 6, "x" : 6, "y" : 56 }, { "h" : 1, "i" : "a3b0f2cb-02de-41ef-b843-008e40b8f6d9", "maxH" : 1, "minH" : 1, "minW" : 12, "moved" : false, "static" : false, "w" : 12, "x" : 0, "y" : 62 }, { "h" : 11, "i" : "92dd7aae-95eb-48ae-9d3a-6e062d468dab", "moved" : false, "static" : false, "w" : 6, "x" : 0, "y" : 63 }, { "h" : 11, "i" : "f984a994-50b8-4c1e-83b4-9a10ca128657", "moved" : false, "static" : false, "w" : 6, "x" : 6, "y" : 63 } ], "panelMap" : { "94c3ba3e-b5de-49da-8a4d-f4572585d2e6" : { "collapsed" : false, "widgets" : [ { "h" : 6, "i" : "3d74094e-241b-4560-9128-abb1af79ae3c", "moved" : false, "static" : false, "w" : 6, "x" : 0, "y" : 172 }, { "h" : 6, "i" : "9a8ac524-afe4-457a-b17a-45f11c4f0fcf", "moved" : false, "static" : false, "w" : 6, "x" : 6, "y" : 172 }, { "h" : 6, "i" : "f42a3a42-8099-4be9-a6b5-1528d1f1bdfa", "moved" : false, "static" : false, "w" : 6, "x" : 0, "y" : 178 }, { "h" : 6, "i" : "e796af4a-abe8-4ff4-9bba-0b7eb81c022a", "moved" : false, "static" : false, "w" : 6, "x" : 6, "y" : 178 }, { "h" : 6, "i" : "9abc2374-d1ef-4ad6-958b-2355addcb245", "moved" : false, "static" : false, "w" : 12, "x" : 0, "y" : 184 } ] }, "a3b0f2cb-02de-41ef-b843-008e40b8f6d9" : { "collapsed" : false, "widgets" : [ { "h" : 6, "i" : "92dd7aae-95eb-48ae-9d3a-6e062d468dab", "moved" : false, "static" : false, "w" : 6, "x" : 0, "y" : 57 }, { "h" : 6, "i" : "f984a994-50b8-4c1e-83b4-9a10ca128657", "moved" : false, "static" : false, "w" : 6, "x" : 6, "y" : 57 } ] }, "cdae1cea-ab16-46db-9100-af2fb7971198" : { "collapsed" : false, "widgets" : [ { "h" : 6, "i" : "a9013487-0479-4a09-a613-b3fc20e4d666", "moved" : false, "static" : false, "w" : 6, "x" : 0, "y" : 191 }, { "h" : 6, "i" : "3f186d43-6b86-4b71-962b-4ccddd8d7481", "moved" : false, "static" : false, "w" : 6, "x" : 6, "y" : 191 }, { "h" : 6, "i" : "e2683847-faa3-42f6-bb3c-4367a3e76294", "moved" : false, "static" : false, "w" : 6, "x" : 0, "y" : 197 }, { "h" : 6, "i" : "64f1ea50-0c34-4e43-9912-0d9547e2e436", "moved" : false, "static" : false, "w" : 6, "x" : 6, "y" : 197 } ] }, "f8abf828-e45d-4712-bb23-f6aec69bc4fa" : { "collapsed" : false, "widgets" : [ { "h" : 3, "i" : "b33f0bad-e623-4c2b-b854-12270f211690", "moved" : false, "static" : false, "w" : 3, "x" : 0, "y" : 1 }, { "h" : 3, "i" : "5d89be47-9c43-4b0f-96c0-1dc72dbfa356", "moved" : false, "static" : false, "w" : 3, "x" : 3, "y" : 1 }, { "h" : 3, "i" : "0ce16128-ff8d-479d-8db2-10ac8fb47bc2", "moved" : false, "static" : false, "w" : 3, "x" : 6, "y" : 1 }, { "h" : 3, "i" : "f9df830b-cb02-4e70-b72a-f89a2e4f8196", "moved" : false, "static" : false, "w" : 3, "x" : 9, "y" : 1 } ] }, "f9d3d624-01e9-430c-b4a8-a1371fe35628" : { "collapsed" : false, "widgets" : [ { "h" : 6, "i" : "5f43aa0f-cc5f-4a29-9cd7-dd0505db35a9", "moved" : false, "static" : false, "w" : 6, "x" : 0, "y" : 8 }, { "h" : 6, "i" : "ea1d1541-7787-4e09-8e5b-69be7f6af1ce", "moved" : false, "static" : false, "w" : 6, "x" : 6, "y" : 8 }, { "h" : 6, "i" : "d497c2d7-372e-4670-9917-9bcbc25d0487", "moved" : false, "static" : false, "w" : 6, "x" : 0, "y" : 14 }, { "h" : 6, "i" : "45a54f00-081e-42b2-8134-c3848f4ac19e", "moved" : false, "static" : false, "w" : 6, "x" : 6, "y" : 14 } ] }, "fbaade42-9fdb-4023-9a6b-b2a7000ab24c" : { "collapsed" : false, "widgets" : [ { "h" : 6, "i" : "24e4d4c3-4ada-4e9d-bc3b-e19d314daa27", "moved" : false, "static" : false, "w" : 6, "x" : 0, "y" : 33 } ] } }, "tags" : [ "hostmetrics", "k8s", "node" ], "title" : "Host Metrics (k8s)", "uploadedGrafana" : false, "variables" : { "251c0d09-804b-46fa-b3bf-6498251a53b1" : { "allSelected" : false, "customValue" : "", "description" : "The name of the Node", "id" : "251c0d09-804b-46fa-b3bf-6498251a53b1", "modificationUUID" : "471bf797-b3d7-47f5-bae0-fba335186682", "multiSelect" : false, "name" : "k8s.node.name", "order" : 1, "queryValue" : "SELECT JSONExtractString(labels, 'k8s.node.name') AS `k8s.node.name` FROM signoz_metrics.distributed_time_series_v4_1day WHERE metric_name = 'k8s.node.cpu.time' AND JSONExtractString(labels, 'k8s.cluster.name') = $k8s.cluster.name GROUP BY `k8s.node.name`", "selectedValue" : "default", "showALLOption" : false, "sort" : "ASC", "textboxValue" : "", "type" : "QUERY" }, "575a7337-465b-4c76-895b-c3b769271ff0" : { "allSelected" : false, "customValue" : "", "description" : "Name of the cluster", "id" : "575a7337-465b-4c76-895b-c3b769271ff0", "key" : "575a7337-465b-4c76-895b-c3b769271ff0", "modificationUUID" : "d2284249-6ea8-4a36-a267-a321e9fc1cd8", "multiSelect" : false, "name" : "k8s.cluster.name", "order" : 0, "queryValue" : "SELECT JSONExtractString(labels, 'k8s.cluster.name') AS `k8s.cluster.name` FROM signoz_metrics.distributed_time_series_v4_1day WHERE metric_name = 'k8s.node.cpu.time' GROUP BY `k8s.cluster.name`", "selectedValue" : "default", "showALLOption" : false, "sort" : "DISABLED", "textboxValue" : "", "type" : "QUERY" } }, "version" : "v4", "widgets" : [ { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "Node CPU utilization", "fillSpans" : false, "id" : "b33f0bad-e623-4c2b-b854-12270f211690", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "value", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "k8s.node.cpu.usage--float64--Gauge--true", "isColumn" : true, "isJSON" : false, "key" : "k8s.node.cpu.usage", "type" : "Gauge" }, "aggregateOperator" : "avg", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "38668c10", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ ], "having" : [ ], "legend" : "", "limit" : null, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "avg" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "4b373d60-2344-4981-8e1e-b7b0a57b8f36", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "CPU Used", "yAxisUnit" : "none" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "Available CPU for Node", "fillSpans" : false, "id" : "5d89be47-9c43-4b0f-96c0-1dc72dbfa356", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "value", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "k8s.node.allocatable_cpu--float64--Gauge--true", "isColumn" : true, "isJSON" : false, "key" : "k8s.node.allocatable_cpu", "type" : "Gauge" }, "aggregateOperator" : "avg", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "690e3979", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ ], "having" : [ ], "legend" : "", "limit" : null, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "avg", "stepInterval" : 60, "timeAggregation" : "avg" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "85d1ce06-ce9e-4acd-a089-ccf04606d9c0", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "Allocatable CPU", "yAxisUnit" : "none" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "", "fillSpans" : false, "id" : "f9df830b-cb02-4e70-b72a-f89a2e4f8196", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "value", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "k8s.node.allocatable_memory--float64--Gauge--true", "isColumn" : true, "isJSON" : false, "key" : "k8s.node.allocatable_memory", "type" : "Gauge" }, "aggregateOperator" : "avg", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "f924335b", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ ], "having" : [ ], "legend" : "", "limit" : null, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "avg" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "779c9ad2-e443-4564-bba4-81e9a7e11a1d", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "Allocatable Memory", "yAxisUnit" : "bytes" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "", "fillSpans" : false, "id" : "0ce16128-ff8d-479d-8db2-10ac8fb47bc2", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "value", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "k8s.node.memory.usage--float64--Gauge--true", "isColumn" : true, "isJSON" : false, "key" : "k8s.node.memory.usage", "type" : "Gauge" }, "aggregateOperator" : "avg", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "ff546c64", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ ], "having" : [ ], "legend" : "", "limit" : null, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "avg" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "6accb643-2683-4de6-b93f-f52160dae0d5", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "Memory Used", "yAxisUnit" : "bytes" }, { "description" : "", "id" : "f8abf828-e45d-4712-bb23-f6aec69bc4fa", "panelTypes" : "row", "title" : "Overview" }, { "description" : "", "id" : "f9d3d624-01e9-430c-b4a8-a1371fe35628", "panelTypes" : "row", "title" : "Resources" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "", "fillSpans" : false, "id" : "5f43aa0f-cc5f-4a29-9cd7-dd0505db35a9", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "graph", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "system.cpu.time--float64--Sum--true", "isColumn" : true, "isJSON" : false, "key" : "system.cpu.time", "type" : "Sum" }, "aggregateOperator" : "rate", "dataSource" : "metrics", "disabled" : true, "expression" : "A", "filters" : { "items" : [ { "id" : "ad316791", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ { "dataType" : "string", "id" : "state--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "state", "type" : "tag" } ], "having" : [ ], "legend" : "{{state}}", "limit" : null, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "rate" }, { "aggregateAttribute" : { "dataType" : "float64", "id" : "system.cpu.time--float64--Sum--true", "isColumn" : true, "isJSON" : false, "key" : "system.cpu.time", "type" : "Sum" }, "aggregateOperator" : "rate", "dataSource" : "metrics", "disabled" : true, "expression" : "B", "filters" : { "items" : [ { "id" : "6baf116b", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ ], "having" : [ ], "legend" : "{{state}}", "limit" : null, "orderBy" : [ ], "queryName" : "B", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "rate" } ], "queryFormulas" : [ { "disabled" : false, "expression" : "A/B", "legend" : "{{state}}", "queryName" : "F1" } ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "315b15fa-ff0c-442f-89f8-2bf4fb1af2f2", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "CPU Usage", "yAxisUnit" : "percentunit" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "", "fillSpans" : false, "id" : "ea1d1541-7787-4e09-8e5b-69be7f6af1ce", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "graph", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "system.memory.usage--float64--Gauge--true", "isColumn" : true, "isJSON" : false, "key" : "system.memory.usage", "type" : "Gauge" }, "aggregateOperator" : "avg", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "8026009e", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ { "dataType" : "string", "id" : "state--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "state", "type" : "tag" } ], "having" : [ ], "legend" : "{{state}}", "limit" : null, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "avg" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "40218bfb-a9b7-4974-aead-5bf666e139bf", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "Memory Usage", "yAxisUnit" : "bytes" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "", "fillSpans" : false, "id" : "d497c2d7-372e-4670-9917-9bcbc25d0487", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "graph", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "k8s.pod.cpu.usage--float64--Gauge--true", "isColumn" : true, "isJSON" : false, "key" : "k8s.pod.cpu.usage", "type" : "Gauge" }, "aggregateOperator" : "avg", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "2c44bbc1", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ { "dataType" : "string", "id" : "k8s.pod.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.pod.name", "type" : "tag" } ], "having" : [ ], "legend" : "{{k8s.pod.name}}", "limit" : 30, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "avg" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "37e8977b-fea4-4218-a6c7-c172bf958bf5", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "CPU Usage by Pod", "yAxisUnit" : "none" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "", "fillSpans" : false, "id" : "45a54f00-081e-42b2-8134-c3848f4ac19e", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "graph", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "k8s.pod.memory.usage--float64--Gauge--true", "isColumn" : true, "isJSON" : false, "key" : "k8s.pod.memory.usage", "type" : "Gauge" }, "aggregateOperator" : "avg", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "e1886dbf", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ { "dataType" : "string", "id" : "k8s.pod.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.pod.name", "type" : "tag" } ], "having" : [ ], "legend" : "{{k8s.pod.name}}", "limit" : 30, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "avg" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "a3eb769a-7c81-4f07-a6ce-f13a5196c32c", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "Memory Usage by Pod", "yAxisUnit" : "bytes" }, { "description" : "", "id" : "fbaade42-9fdb-4023-9a6b-b2a7000ab24c", "panelTypes" : "row", "title" : "System" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "", "fillSpans" : false, "id" : "24e4d4c3-4ada-4e9d-bc3b-e19d314daa27", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "graph", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "system.cpu.load_average.1m--float64--Gauge--true", "isColumn" : true, "isJSON" : false, "key" : "system.cpu.load_average.1m", "type" : "Gauge" }, "aggregateOperator" : "avg", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "4167fbb1", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ ], "having" : [ ], "legend" : "1m", "limit" : 30, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "avg" }, { "aggregateAttribute" : { "dataType" : "float64", "id" : "system.cpu.load_average.5m--float64--Gauge--true", "isColumn" : true, "isJSON" : false, "key" : "system.cpu.load_average.5m", "type" : "Gauge" }, "aggregateOperator" : "avg", "dataSource" : "metrics", "disabled" : false, "expression" : "B", "filters" : { "items" : [ { "id" : "0c2cfeca", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ ], "having" : [ ], "legend" : "5m", "limit" : 30, "orderBy" : [ ], "queryName" : "B", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "avg" }, { "aggregateAttribute" : { "dataType" : "float64", "id" : "system.cpu.load_average.15m--float64--Gauge--true", "isColumn" : true, "isJSON" : false, "key" : "system.cpu.load_average.15m", "type" : "Gauge" }, "aggregateOperator" : "avg", "dataSource" : "metrics", "disabled" : false, "expression" : "C", "filters" : { "items" : [ { "id" : "28693375", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ ], "having" : [ ], "legend" : "15m", "limit" : 30, "orderBy" : [ ], "queryName" : "C", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "avg" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "8e6485ea-7018-43b0-ab27-b210f77b59ad", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "System Load Average", "yAxisUnit" : "none" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "", "fillSpans" : false, "id" : "3d74094e-241b-4560-9128-abb1af79ae3c", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "graph", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "system.network.io--float64--Sum--true", "isColumn" : true, "isJSON" : false, "key" : "system.network.io", "type" : "Sum" }, "aggregateOperator" : "rate", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "3a03bc80", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ { "dataType" : "string", "id" : "direction--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "direction", "type" : "tag" }, { "dataType" : "string", "id" : "device--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "device", "type" : "tag" } ], "having" : [ { "columnName" : "SUM(system.network.io)", "op" : ">", "value" : 0 } ], "legend" : "{{device}}::{{direction}}", "limit" : 30, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "rate" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "47173220-44df-4ef6-87f4-31e333c180c7", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "Network usage (bytes)", "yAxisUnit" : "bytes" }, { "description" : "", "id" : "94c3ba3e-b5de-49da-8a4d-f4572585d2e6", "panelTypes" : "row", "title" : "Network" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "", "fillSpans" : false, "id" : "9a8ac524-afe4-457a-b17a-45f11c4f0fcf", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "graph", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "system.network.packets--float64--Sum--true", "isColumn" : true, "isJSON" : false, "key" : "system.network.packets", "type" : "Sum" }, "aggregateOperator" : "rate", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "3082ef53", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ { "dataType" : "string", "id" : "direction--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "direction", "type" : "tag" }, { "dataType" : "string", "id" : "device--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "device", "type" : "tag" } ], "having" : [ ], "legend" : "{{device}}::{{direction}}", "limit" : 30, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "rate" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "62eedbc6-c8ad-4d13-80a8-129396e1d1dc", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "Network usage (packet/s)", "yAxisUnit" : "pps" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "", "fillSpans" : false, "id" : "f42a3a42-8099-4be9-a6b5-1528d1f1bdfa", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "graph", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "system.network.errors--float64--Sum--true", "isColumn" : true, "isJSON" : false, "key" : "system.network.errors", "type" : "Sum" }, "aggregateOperator" : "rate", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "8859bc50", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ { "dataType" : "string", "id" : "direction--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "direction", "type" : "tag" }, { "dataType" : "string", "id" : "device--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "device", "type" : "tag" } ], "having" : [ ], "legend" : "{{device}}::{{direction}}", "limit" : 30, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "rate" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "5ddb1b38-53bb-46f5-b4fe-fe832d6b9b24", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "Network errors", "yAxisUnit" : "short" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "", "fillSpans" : false, "id" : "e796af4a-abe8-4ff4-9bba-0b7eb81c022a", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "graph", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "system.network.dropped--float64--Sum--true", "isColumn" : true, "isJSON" : false, "key" : "system.network.dropped", "type" : "Sum" }, "aggregateOperator" : "rate", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "40fec2e3", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ { "dataType" : "string", "id" : "direction--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "direction", "type" : "tag" }, { "dataType" : "string", "id" : "device--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "device", "type" : "tag" } ], "having" : [ ], "legend" : "{{device}}::{{direction}}", "limit" : 30, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "rate" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "a849bcce-7684-4852-9134-530b45419b8f", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "Network drops", "yAxisUnit" : "short" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "", "fillSpans" : false, "id" : "9abc2374-d1ef-4ad6-958b-2355addcb245", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "graph", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "system.network.connections--float64--Gauge--true", "isColumn" : true, "isJSON" : false, "key" : "system.network.connections", "type" : "Gauge" }, "aggregateOperator" : "avg", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "87f665b5", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ { "dataType" : "string", "id" : "protocol--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "protocol", "type" : "tag" }, { "dataType" : "string", "id" : "state--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "state", "type" : "tag" } ], "having" : [ ], "legend" : "{{protocol}}::{{state}}", "limit" : 30, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "avg" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "ab685a3d-fa4c-4663-8d94-c452e59038f3", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "Network connections", "yAxisUnit" : "short" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "", "fillSpans" : false, "id" : "a9013487-0479-4a09-a613-b3fc20e4d666", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "graph", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "system.disk.io--float64--Sum--true", "isColumn" : true, "isJSON" : false, "key" : "system.disk.io", "type" : "Sum" }, "aggregateOperator" : "rate", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "8cf95cd6", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ { "dataType" : "string", "id" : "direction--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "direction", "type" : "tag" }, { "dataType" : "string", "id" : "device--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "device", "type" : "tag" } ], "having" : [ { "columnName" : "SUM(system.disk.io)", "op" : ">", "value" : 0 } ], "legend" : "{{device}}::{{direction}}", "limit" : 30, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "rate" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "d2930e32-49e4-4f98-b727-4d010b2107b5", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "System disk io (bytes transferred)", "yAxisUnit" : "bytes" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "", "fillSpans" : false, "id" : "3f186d43-6b86-4b71-962b-4ccddd8d7481", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "graph", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "system.disk.operations--float64--Sum--true", "isColumn" : true, "isJSON" : false, "key" : "system.disk.operations", "type" : "Sum" }, "aggregateOperator" : "rate", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "5b47b8a7", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ { "dataType" : "string", "id" : "direction--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "direction", "type" : "tag" }, { "dataType" : "string", "id" : "device--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "device", "type" : "tag" } ], "having" : [ { "columnName" : "SUM(system.disk.operations)", "op" : ">", "value" : 0 } ], "legend" : "{{device}}::{{direction}}", "limit" : 30, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "rate" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "a4527605-109a-4dc0-a065-54abcd7a6098", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "System disk operations/s", "yAxisUnit" : "short" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "The queue size of pending I/O operations.", "fillSpans" : false, "id" : "64f1ea50-0c34-4e43-9912-0d9547e2e436", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "graph", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "system.disk.pending_operations--float64--Gauge--true", "isColumn" : true, "isJSON" : false, "key" : "system.disk.pending_operations", "type" : "Gauge" }, "aggregateOperator" : "max", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "a1023af9", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ { "dataType" : "string", "id" : "device--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "device", "type" : "tag" } ], "having" : [ { "columnName" : "SUM(system.disk.pending_operations)", "op" : ">", "value" : 0 } ], "legend" : "{{device}}", "limit" : null, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "max" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "f4cfc2a5-78fc-42cc-8f4a-194c8c916132", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "Queue size", "yAxisUnit" : "short" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "Time spent in disk operations.", "fillSpans" : false, "id" : "e2683847-faa3-42f6-bb3c-4367a3e76294", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "graph", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "system.disk.operation_time--float64--Sum--true", "isColumn" : true, "isJSON" : false, "key" : "system.disk.operation_time", "type" : "Sum" }, "aggregateOperator" : "rate", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "d21dc017", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ { "dataType" : "string", "id" : "device--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "device", "type" : "tag" }, { "dataType" : "string", "id" : "direction--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "direction", "type" : "tag" } ], "having" : [ { "columnName" : "SUM(system.disk.operation_time)", "op" : ">", "value" : 0 } ], "legend" : "{{device}}::{{direction}}", "limit" : null, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "rate" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "9c6d18ad-89ff-4e38-a15a-440e72ed6ca8", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "Disk operations time", "yAxisUnit" : "s" }, { "description" : "", "id" : "cdae1cea-ab16-46db-9100-af2fb7971198", "panelTypes" : "row", "title" : "Disk" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { "A" : "bytes" }, "description" : "", "fillSpans" : false, "id" : "92dd7aae-95eb-48ae-9d3a-6e062d468dab", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "table", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "system.filesystem.usage--float64--Gauge--true", "isColumn" : true, "isJSON" : false, "key" : "system.filesystem.usage", "type" : "Gauge" }, "aggregateOperator" : "avg", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "fd59e881", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ { "dataType" : "string", "id" : "device--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "device", "type" : "tag" }, { "dataType" : "string", "id" : "mountpoint--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "mountpoint", "type" : "tag" }, { "dataType" : "string", "id" : "state--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "state", "type" : "tag" }, { "dataType" : "string", "id" : "type--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "type", "type" : "tag" }, { "dataType" : "string", "id" : "mode--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "mode", "type" : "tag" } ], "having" : [ ], "legend" : "usage", "limit" : 30, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "rate" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "392d7c5e-8c50-44c7-871c-bb248e38c897", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "File system usage", "yAxisUnit" : "bytes" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { "A" : "short" }, "description" : "", "fillSpans" : false, "id" : "f984a994-50b8-4c1e-83b4-9a10ca128657", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "table", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "system.filesystem.inodes.usage--float64--Gauge--true", "isColumn" : true, "isJSON" : false, "key" : "system.filesystem.inodes.usage", "type" : "Gauge" }, "aggregateOperator" : "avg", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "067a7df4", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ { "dataType" : "string", "id" : "device--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "device", "type" : "tag" }, { "dataType" : "string", "id" : "mountpoint--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "mountpoint", "type" : "tag" }, { "dataType" : "string", "id" : "state--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "state", "type" : "tag" }, { "dataType" : "string", "id" : "type--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "type", "type" : "tag" }, { "dataType" : "string", "id" : "mode--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "mode", "type" : "tag" } ], "having" : [ ], "legend" : "usage", "limit" : 30, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "avg" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "7203203b-4e04-4ce2-8a1b-7bd004adfc94", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "File system inode usage", "yAxisUnit" : "bytes" }, { "description" : "", "id" : "a3b0f2cb-02de-41ef-b843-008e40b8f6d9", "panelTypes" : "row", "title" : "File system" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "", "fillSpans" : false, "id" : "f4d0972c-6d7b-44b0-b813-8063f0bb7410", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "graph", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "k8s.pod.cpu.usage--float64--Gauge--true", "isColumn" : true, "isJSON" : false, "key" : "k8s.pod.cpu.usage", "type" : "Gauge" }, "aggregateOperator" : "avg", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "938b651c", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ { "dataType" : "string", "id" : "k8s.namespace.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.namespace.name", "type" : "tag" } ], "having" : [ ], "legend" : "{{k8s.namespace.name}}", "limit" : 30, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "avg" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "650931d8-8180-47ed-84b3-6efcdbb4f319", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "CPU Usage by namespace", "yAxisUnit" : "none" }, { "bucketCount" : 30, "bucketWidth" : 0, "columnUnits" : { }, "description" : "", "fillSpans" : false, "id" : "fbc102af-88fb-488f-9c7a-c89551593c9e", "isStacked" : false, "mergeAllActiveQueries" : false, "nullZeroValues" : "zero", "opacity" : "1", "panelTypes" : "graph", "query" : { "builder" : { "queryData" : [ { "aggregateAttribute" : { "dataType" : "float64", "id" : "k8s.pod.memory.usage--float64--Gauge--true", "isColumn" : true, "isJSON" : false, "key" : "k8s.pod.memory.usage", "type" : "Gauge" }, "aggregateOperator" : "avg", "dataSource" : "metrics", "disabled" : false, "expression" : "A", "filters" : { "items" : [ { "id" : "547f788a", "key" : { "dataType" : "string", "id" : "k8s.node.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.node.name", "type" : "tag" }, "op" : "=", "value" : "$k8s.node.name" } ], "op" : "AND" }, "functions" : [ ], "groupBy" : [ { "dataType" : "string", "id" : "k8s.namespace.name--string--tag--false", "isColumn" : false, "isJSON" : false, "key" : "k8s.namespace.name", "type" : "tag" } ], "having" : [ ], "legend" : "{{k8s.namespace.name}}", "limit" : 30, "orderBy" : [ ], "queryName" : "A", "reduceTo" : "avg", "spaceAggregation" : "sum", "stepInterval" : 60, "timeAggregation" : "avg" } ], "queryFormulas" : [ ] }, "clickhouse_sql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "id" : "bc226118-d65a-44cd-9ff2-80ff0c8724a6", "promql" : [ { "disabled" : false, "legend" : "", "name" : "A", "query" : "" } ], "queryType" : "builder" }, "selectedLogFields" : [ { "dataType" : "string", "name" : "body", "type" : "" }, { "dataType" : "string", "name" : "timestamp", "type" : "" } ], "selectedTracesFields" : [ { "dataType" : "string", "id" : "serviceName--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "serviceName", "type" : "tag" }, { "dataType" : "string", "id" : "name--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "name", "type" : "tag" }, { "dataType" : "float64", "id" : "durationNano--float64--tag--true", "isColumn" : true, "isJSON" : false, "key" : "durationNano", "type" : "tag" }, { "dataType" : "string", "id" : "httpMethod--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "httpMethod", "type" : "tag" }, { "dataType" : "string", "id" : "responseStatusCode--string--tag--true", "isColumn" : true, "isJSON" : false, "key" : "responseStatusCode", "type" : "tag" } ], "softMax" : 0, "softMin" : 0, "stackedBarChart" : false, "thresholds" : [ ], "timePreferance" : "GLOBAL_TIME", "title" : "Memory Usage by namespace", "yAxisUnit" : "bytes" } ] }