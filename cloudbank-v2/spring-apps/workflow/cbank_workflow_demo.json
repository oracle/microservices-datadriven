{
    "name": "cbank_workflow_demo",
    "description": "Cloud Bank Demo Workflow",
    "version": 1,
    "inputParameters": [
        "object"
    ],
    "tasks": [
        {
            "name": "call_account_service",
            "taskReferenceName": "call_account_service_from",
            "type": "HTTP",
            "inputParameters": {
                "fromCustomerId": "${jq_get_fromCustomerId.output.result}",
                "http_request": {
                    "uri": "http://account.application.svc.cluster.local:8080/api/v1/account/getAccounts/${workflow.input.object.fromAccount}",
                    "method": "GET",
                    "connectionTimeOut": 3000,
                    "readTimeOut": 3000
                }
            }
        },        
        {
            "name": "jq_get_cloudCashPaymentObj",
            "taskReferenceName": "jq_get_cloudCashPaymentObj",
            "type": "JSON_JQ_TRANSFORM",
            "inputParameters": {
                "paymentObj": "${workflow.input.object}",
                "queryExpression": ".paymentObj.amount"
            }
        }
    ],
    "outputParameters": {
        "amount": "${jq_get_cloudCashPaymentObj.output.result}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": true,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0
}
