{
    "name": "ip_weather_workflow",
    "description": "Sample Workflow",
    "version": 1,
    "inputParameters": [
        "my_ip"
    ],
    "tasks": [
        {
            "name": "Get_IP",
            "taskReferenceName": "get_IP_ref",
            "inputParameters": {
                "http_request": {
                    "uri": "http://ip-api.com/json/${workflow.input.ipaddress}?fields=status,message,country,countryCode,region,regionName,city,zip,lat,lon,timezone,offset,isp,org,as,query",
                    "method": "GET"
                }
            },
            "type": "HTTP",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "retryCount": 3
        },
        {
            "name": "Get_weather",
            "taskReferenceName": "get_weather_ref",
            "inputParameters": {
                "zip_code": "${get_IP_ref.output.response.body.zip}",
                "http_request": {
                    "uri": "https://weatherdbi.herokuapp.com/data/weather/${get_IP_ref.output.response.body.zip}",
                    "method": "GET",
                    "connectionTimeOut": 3000,
                    "readTimeOut": 3000
                }
            },
            "type": "HTTP",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": []
        }
    ],
    "outputParameters": {
        "zipcode": "${get_IP_ref.output.response.body.zip}",
        "forecast": "${get_weather_ref.output.response.body.currentConditions.comment}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": true,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0    
}